{"cells":[{"cell_type":"markdown","metadata":{"id":"icDOU2PPGTbM"},"source":["# Строки в Python"]},{"cell_type":"markdown","source":["## Базовый синтаксис"],"metadata":{"id":"Axk5x3VQG92P"}},{"cell_type":"markdown","source":["Объявление строк в Python:"],"metadata":{"id":"CT4fiKNqG_bj"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"KvBhWXuHGTbN"},"outputs":[],"source":["s = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit'\n","also_s = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\""]},{"cell_type":"code","source":["s"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"liBO9uhVjZOG","executionInfo":{"status":"ok","timestamp":1674803014671,"user_tz":-180,"elapsed":58,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"1a564e1b-de1c-4c8b-cd8f-f455ddc5519d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":2}]},{"cell_type":"code","source":["also_s"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"m6izR5pJjaEh","executionInfo":{"status":"ok","timestamp":1674803014673,"user_tz":-180,"elapsed":45,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"9a60064b-9c1a-424b-8396-9882443b038a"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":3}]},{"cell_type":"markdown","source":["Строки поддерживают срезы:"],"metadata":{"id":"MPorQ5gJHDr5"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"Off7-uUpGTbO","outputId":"46ddbc7f-dc93-4622-e9c8-b8bbdb55a433","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674648688957,"user_tz":-180,"elapsed":21,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":4}],"source":["s"]},{"cell_type":"code","source":["s[10:20]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"jxLf1LmBzG4q","executionInfo":{"status":"ok","timestamp":1674648688959,"user_tz":-180,"elapsed":19,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"939b75b8-74ce-4912-d0f7-8cb1bc2a6b08"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'m dolor si'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":5}]},{"cell_type":"code","source":["s[10:20:3]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"vFxy4KjlzIw4","executionInfo":{"status":"ok","timestamp":1674648689359,"user_tz":-180,"elapsed":22,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"6367cbb5-27de-4545-dee3-dba8ceb878e0"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'mori'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":6}]},{"cell_type":"markdown","metadata":{"id":"GmBSWLjWGTbO"},"source":["Строки являются неизменяемыми объектами. Поддерживают базовые арифметические операции:"]},{"cell_type":"code","source":["id(s)"],"metadata":{"id":"zeGsPFXEHG5Y","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803014675,"user_tz":-180,"elapsed":42,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"4078accf-82fd-42d1-ceb7-3cb08ef730f2"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["140000171411360"]},"metadata":{},"execution_count":4}]},{"cell_type":"code","source":["id(s+'_else')"],"metadata":{"id":"4RUDXALMHH8Y","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803014678,"user_tz":-180,"elapsed":33,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"590f4c0e-2a33-4c53-8c85-d83ff2cefc84"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["140000171412928"]},"metadata":{},"execution_count":5}]},{"cell_type":"code","source":["s += '!' * 2\n","print(s)"],"metadata":{"id":"YMLlo0A4HJNj","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803052045,"user_tz":-180,"elapsed":29,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"f17273d0-ab82-4dbe-8637-86a0aa7a89ae"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Lorem ipsum dolor sit amet, consectetur adipiscing elit!!\n"]}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"IgCsYLUXGTbO","colab":{"base_uri":"https://localhost:8080/","height":167},"executionInfo":{"status":"error","timestamp":1674803052047,"user_tz":-180,"elapsed":20,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"704e18a7-2152-4d3d-9369-8cd60eaf2388"},"outputs":[{"output_type":"error","ename":"TypeError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-7-2fd57667d01c>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0ms\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m'?'\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mTypeError\u001b[0m: 'str' object does not support item assignment"]}],"source":["s[-1] = '?'"]},{"cell_type":"markdown","source":["## Экранирование символов"],"metadata":{"id":"iATJBDzShFD_"}},{"cell_type":"markdown","source":["Помним, что строку можно объявить как с помощью одинарных, так и с помощью двойных кавычек. Но что будет, если сама строчка содержит такую же кавычку?\n","\n"],"metadata":{"id":"TQLbEQakhW3-"}},{"cell_type":"code","source":["string = 'Dragon's mother'"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":133},"id":"NQnHc5M4kddT","executionInfo":{"status":"error","timestamp":1674728185820,"user_tz":-180,"elapsed":286,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"ad25280c-0df8-4195-c44b-1543cedc52cf"},"execution_count":null,"outputs":[{"output_type":"error","ename":"SyntaxError","evalue":"ignored","traceback":["\u001b[0;36m  File \u001b[0;32m\"<ipython-input-2-d82d62335884>\"\u001b[0;36m, line \u001b[0;32m1\u001b[0m\n\u001b[0;31m    string = 'Dragon's mother'\u001b[0m\n\u001b[0m                     ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m invalid syntax\n"]}]},{"cell_type":"markdown","source":["Получили ошибку. С точки зрения Python строчка началась с одинарной кавычки, а потом закончилась после слова `dragon`. Дальше были символы `s mother` без кавычек — значит, это не строка. А потом была одна открывающая строку кавычка, которая так и не закрылась: '). Этот код содержит синтаксическую ошибку — это видно даже по тому, как подсвечен код.\n","\n","Очевидное решение - просто использовать другой тип кавычек для объявления строки."],"metadata":{"id":"1nZ399DCklxy"}},{"cell_type":"code","source":["string = \"Dragon's mother\""],"metadata":{"id":"UvLP5_dzlPPD"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["Но что делать, если строка содержит оба типа кавычек?"],"metadata":{"id":"yf8uSEF5lTDC"}},{"cell_type":"code","source":["string = 'Dragon's mother said \"No\"'"],"metadata":{"id":"U1q5RGWzlXgZ","colab":{"base_uri":"https://localhost:8080/","height":132},"executionInfo":{"status":"error","timestamp":1674803078121,"user_tz":-180,"elapsed":566,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"dc3dcb07-3691-43a5-ef28-e80769c928ab"},"execution_count":null,"outputs":[{"output_type":"error","ename":"SyntaxError","evalue":"ignored","traceback":["\u001b[0;36m  File \u001b[0;32m\"<ipython-input-8-5c1767d817fd>\"\u001b[0;36m, line \u001b[0;32m1\u001b[0m\n\u001b[0;31m    string = 'Dragon's mother said \"No\"'\u001b[0m\n\u001b[0m                     ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m invalid syntax\n"]}]},{"cell_type":"code","source":["string = \"Dragon's mother said \"No\"\""],"metadata":{"id":"E2BaUVnylaYD"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["В ней есть и одинарные, и двойные кавычки. Нам нужно каким-то образом указать интерпретатору, что кавычки — это один из символов внутри строки, а не начало или конец строки.\n","\n","Для этого используют символ экранирования: `\\` — обратный слэш. Если мы поставим `\\` перед кавычкой (одинарной или двойной), то интерпретатор распознает кавычку как обычный символ внутри строки, а не начало или конец строки:"],"metadata":{"id":"scevwcoFhWyd"}},{"cell_type":"code","source":["string = \"Dragon's mother said \\\"No\\\"\"\n","print(string)"],"metadata":{"id":"wK5C08C0lkaR","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803134512,"user_tz":-180,"elapsed":27,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"fd5b96c2-3ca8-43a8-aa1b-5a05f5b3c2e4"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Dragon's mother said \"No\"\n"]}]},{"cell_type":"code","source":["string = 'Dragon\\'s mother said \"No\"'\n","print(string)"],"metadata":{"id":"ZVKyQw3hlmh4","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803143743,"user_tz":-180,"elapsed":12,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"2f0a3888-11b1-4056-ea9b-10761f30b80e"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Dragon's mother said \"No\"\n"]}]},{"cell_type":"markdown","source":["Обратите внимание, что в примере выше нам не пришлось экранировать одинарную кавычку (апостроф 's), потому что сама строка создана с двойными кавычками. Если бы строка создавалась с одинарными кавычками, то символ экранирования нужен был бы перед апострофом, но не перед двойными кавычками.\n","\n","Если нужно вывести сам обратный слеш, то работает такое же правило. Как и любой другой специальный символ, его надо экранировать:"],"metadata":{"id":"kI-f-cceluY7"}},{"cell_type":"code","source":["print(\"\\\\\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"60YcmtrOlzN1","executionInfo":{"status":"ok","timestamp":1674803162700,"user_tz":-180,"elapsed":16,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"039eecbb-849d-44fa-8753-481742cd993e"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["\\\n"]}]},{"cell_type":"markdown","metadata":{"id":"mwDA5X4xGTbN"},"source":["## Методы строк"]},{"cell_type":"markdown","metadata":{"id":"ulOvwhQNGTbP"},"source":["Для удобства работы в строки встроено множество полезных методов. Рассмотрим неоторые из них:"]},{"cell_type":"markdown","metadata":{"id":"MRV6RsK8GTbO"},"source":["### Разбиение и соединение"]},{"cell_type":"code","source":["s.partition('em')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"gbMJOEBw5Y1J","executionInfo":{"status":"ok","timestamp":1674803300932,"user_tz":-180,"elapsed":18,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"649cc213-89cb-4523-e4f0-aa37099026be"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["('Lor', 'em', ' ipsum dolor sit amet, consectetur adipiscing elit!!')"]},"metadata":{},"execution_count":16}]},{"cell_type":"code","source":["s.split()"],"metadata":{"id":"f-JrQ-hkHOmY","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674648693474,"user_tz":-180,"elapsed":4,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"2a3929bc-a632-4fc5-dd28-aaa7f17ee748"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Lorem',\n"," 'ipsum',\n"," 'dolor',\n"," 'sit',\n"," 'amet,',\n"," 'consectetur',\n"," 'adipiscing',\n"," 'elit!!']"]},"metadata":{},"execution_count":11}]},{"cell_type":"code","source":["s.split('m')"],"metadata":{"id":"uSvG4qM-HQG6","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674648694720,"user_tz":-180,"elapsed":11,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"a04b5890-9baf-45de-8875-0b0b7eb436ae"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Lore', ' ipsu', ' dolor sit a', 'et, consectetur adipiscing elit!!']"]},"metadata":{},"execution_count":12}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"JDVJcjNZGTbO","outputId":"71c2efa4-ae61-41b2-fa00-6cab2926d877","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674648694721,"user_tz":-180,"elapsed":10,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Lorem',\n"," 'ipsum',\n"," 'dolor',\n"," 'sit',\n"," 'amet,',\n"," 'consectetur',\n"," 'adipiscing',\n"," 'elit!!']"]},"metadata":{},"execution_count":13}],"source":["s.split(' ')"]},{"cell_type":"code","source":["words = s.split(' ')"],"metadata":{"id":"gmLz9PzwkLUe"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["words[0]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"ABUuHn_yDyqK","executionInfo":{"status":"ok","timestamp":1674803363763,"user_tz":-180,"elapsed":487,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"4d2735fe-3431-4c5c-8759-d856cb6b62ba"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":19}]},{"cell_type":"code","source":["list(words[0])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"0AxWRGNTDz7B","executionInfo":{"status":"ok","timestamp":1674803370574,"user_tz":-180,"elapsed":19,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"5c8c55a6-d096-4654-ed9c-856b3a5423c7"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['L', 'o', 'r', 'e', 'm']"]},"metadata":{},"execution_count":20}]},{"cell_type":"markdown","metadata":{"id":"7oeOW2m9GTbP"},"source":["Строки можно соединять:"]},{"cell_type":"code","source":["''.join(words)"],"metadata":{"id":"yTwlIoT6HTj2","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803395463,"user_tz":-180,"elapsed":18,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"3396222d-a2fc-4963-8bfb-0e78a0202135"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Loremipsumdolorsitamet,consecteturadipiscingelit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":21}]},{"cell_type":"code","source":["' '.join(words)"],"metadata":{"id":"dv2kg8EjHUhQ","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803397992,"user_tz":-180,"elapsed":11,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"6012ebe2-b7ab-45ca-cb6f-688c72ae2ff3"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":22}]},{"cell_type":"code","source":["' ^_^ '.join(words)"],"metadata":{"id":"R-W__-U4HV0i","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803403702,"user_tz":-180,"elapsed":21,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"25678b03-97ea-4db6-815e-522675371ff0"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ^_^ ipsum ^_^ dolor ^_^ sit ^_^ amet, ^_^ consectetur ^_^ adipiscing ^_^ elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":23}]},{"cell_type":"markdown","source":["### Регистр символов"],"metadata":{"id":"DoAPSuNu1fQI"}},{"cell_type":"code","source":["s"],"metadata":{"id":"L_8teZ96HYcD","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803461408,"user_tz":-180,"elapsed":540,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"b007ee46-96e9-4d99-be88-6fb567a2dce1"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":24}]},{"cell_type":"code","source":["s.upper()"],"metadata":{"id":"0HbsbYPhHZM3","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803462219,"user_tz":-180,"elapsed":17,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"7b77d80b-def2-4f5d-c37c-204e1a256851"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":25}]},{"cell_type":"code","source":["s.lower()"],"metadata":{"id":"5p3dmHjOHaDK","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803462221,"user_tz":-180,"elapsed":15,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"35a7426d-98b2-490a-b729-fcde44536a45"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'lorem ipsum dolor sit amet, consectetur adipiscing elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":26}]},{"cell_type":"code","source":["s.lower().capitalize()"],"metadata":{"id":"JUdqB983HbEH","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803463022,"user_tz":-180,"elapsed":5,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"49a3e642-29cf-4d00-b679-ed4d52d2ed91"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem ipsum dolor sit amet, consectetur adipiscing elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":27}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"U1Yv7v-NGTbP","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803465168,"user_tz":-180,"elapsed":5,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"928c6a78-02a5-4526-a404-f6dcaf118163"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Lorem Ipsum Dolor Sit Amet, Consectetur Adipiscing Elit!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":28}],"source":["s.title()"]},{"cell_type":"code","source":["s.swapcase()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"1zlQDLYj1psN","executionInfo":{"status":"ok","timestamp":1674803471321,"user_tz":-180,"elapsed":719,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"08f5c65b-5e69-4b96-d5ac-467c6eb3eecd"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'lOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT!!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":29}]},{"cell_type":"markdown","metadata":{"id":"dnF1ImSvGTbP"},"source":["### Поиск и замена"]},{"cell_type":"markdown","source":["Для проверки есть ли в строке искомая подстрока можно использовать оператор `in`:"],"metadata":{"id":"ck60UitEHlDs"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"Q_ALSMSDGTbQ","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803514941,"user_tz":-180,"elapsed":502,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"c962b179-7d9a-4fc6-f81c-d71a0d3df396"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["False"]},"metadata":{},"execution_count":30}],"source":["'lorem' in s"]},{"cell_type":"code","source":["'lorem' in s.lower()"],"metadata":{"id":"yw5IQWxJHmky","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803526536,"user_tz":-180,"elapsed":574,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"46f00b4b-f9a1-4b48-bc56-f6239e5e7997"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["True"]},"metadata":{},"execution_count":32}]},{"cell_type":"markdown","metadata":{"id":"uBXhkI_LGTbQ"},"source":["Чтобы найти где именно есть подстрока в строке удобно использовать методы `find` и `index`:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"kAnd6kP0GTbQ","outputId":"6c8a11fe-9ad3-44b8-8f4f-0a4a68b0030a","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803670708,"user_tz":-180,"elapsed":332,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["20"]},"metadata":{},"execution_count":34}],"source":["s.find('t') # возвращает индекс первого вхождения"]},{"cell_type":"code","source":["s.rfind('t') # возвращает индекс последнего вхождения"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"zzeE9qLY2s2J","executionInfo":{"status":"ok","timestamp":1674803673103,"user_tz":-180,"elapsed":23,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"248742d4-c70a-4fd2-9044-979027ce2183"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["54"]},"metadata":{},"execution_count":35}]},{"cell_type":"code","source":["s.find('nonexistent') # или -1"],"metadata":{"id":"RbLnhXkCHoxv","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803741759,"user_tz":-180,"elapsed":413,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"e8574997-2c7e-4211-9531-dfc1083a31b7"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["-1"]},"metadata":{},"execution_count":36}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"MmCkMgdDGTbQ","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803744727,"user_tz":-180,"elapsed":940,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"6879cc60-d412-4eda-b9c1-c0c7d09c0418"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["6"]},"metadata":{},"execution_count":37}],"source":["s.index('ipsum')"]},{"cell_type":"code","source":["s.rindex('ipsum')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"uu4ksyDT2qmH","executionInfo":{"status":"ok","timestamp":1674648925131,"user_tz":-180,"elapsed":234,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"e1ba7726-efec-4a06-e654-7218d95caed2"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["6"]},"metadata":{},"execution_count":28}]},{"cell_type":"code","source":["s.index('nonexistent')"],"metadata":{"id":"y9ecBVgkHqur","colab":{"base_uri":"https://localhost:8080/","height":167},"executionInfo":{"status":"error","timestamp":1674803751493,"user_tz":-180,"elapsed":637,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"0e0a0b3d-be06-4bca-8798-4813ae8cb6c0"},"execution_count":null,"outputs":[{"output_type":"error","ename":"ValueError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m<ipython-input-38-e483f12804f9>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0ms\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'nonexistent'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: substring not found"]}]},{"cell_type":"code","source":["s.count('m')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"37S--cnl2IRo","executionInfo":{"status":"ok","timestamp":1674803756230,"user_tz":-180,"elapsed":17,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"2c7694d5-5d9d-4cd8-c9b1-dcd10c5faaac"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["3"]},"metadata":{},"execution_count":39}]},{"cell_type":"code","source":["txt = \"I like bananas, bananas\"\n","\n","txt.replace(\"bananas\", \"apples\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"hzCoIbmF3STs","executionInfo":{"status":"ok","timestamp":1674803808126,"user_tz":-180,"elapsed":22,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"2724fbe4-a29a-4a08-9ba3-a84a86e743aa"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'I like apples, apples'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":41}]},{"cell_type":"code","source":["txt = \",,,,,rrttgg.....banana....rrr\"\n","\n","x = txt.strip(\",.grt\")"],"metadata":{"id":"sdd-056W4QcL"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"MKFCKalFGTbQ"},"source":["### Анализ строки"]},{"cell_type":"markdown","source":["Можем проверять из каких символов состоит строка:"],"metadata":{"id":"TFFlVE4EHs2u"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"Gu82EaONGTbR","outputId":"66dde46d-a0e8-4bca-8073-8ebfe302f043","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674803898677,"user_tz":-180,"elapsed":8,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["string\t\tisalpha\t\tisdigit\t\tisspace\n","'abc'\t\tTrue\t\tFalse\t\tFalse\n","'2'\t\tFalse\t\tTrue\t\tFalse\n","'   '\t\tFalse\t\tFalse\t\tTrue\n"]}],"source":["strings = ['abc', '2', '   ']\n","\n","print('\\t\\t'.join('string isalpha isdigit isspace'.split()))\n","\n","for s in strings:\n","    print(\"'\" + s + \"'\", s.isalpha(), s.isdigit(), s.isspace(), sep='\\t\\t')"]},{"cell_type":"markdown","metadata":{"id":"AxKD2bOMGTbR"},"source":["Дополнительные методы - `startswith`, `endswith`, `strip`."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"kBBD6_ahGTbR","outputId":"3ff2ca04-0ab3-4618-e52a-5685cbc702e2"},"outputs":[{"data":{"text/plain":["True"]},"execution_count":27,"metadata":{},"output_type":"execute_result"},{"data":{"text/plain":["False"]},"execution_count":27,"metadata":{},"output_type":"execute_result"},{"data":{"text/plain":["'Hello world'"]},"execution_count":27,"metadata":{},"output_type":"execute_result"}],"source":["'Hello, world!'.startswith('Hel')"]},{"cell_type":"code","source":["'Hello, world!'.endswith('world')"],"metadata":{"id":"zYb2dLxdHy4e"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["'    Hello world    '.strip()"],"metadata":{"id":"x7n0kHhYHzyW","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674803981985,"user_tz":-180,"elapsed":322,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"252bf8e2-1873-43ff-d3b2-7383be7aff90"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello world'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":44}]},{"cell_type":"markdown","metadata":{"id":"0DjoKt0BGTbR"},"source":["## Форматирование строк"]},{"cell_type":"markdown","source":["### Классическое форматирование"],"metadata":{"id":"ThQAP0HLH3LY"}},{"cell_type":"markdown","source":["#### Оператор `%`"],"metadata":{"id":"LGcoHz5eCmDY"}},{"cell_type":"markdown","source":["Так же, как и в C, в Python можно форматировать строки:"],"metadata":{"id":"M8GfRMfWH5PM"}},{"cell_type":"markdown","source":["- `%s` - строка (или объект со строковым представлением, например, числа)"],"metadata":{"id":"Qtsn8LI-DSf0"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"P86_nBpjGTbR","outputId":"bf6b6124-bd96-4d08-8d55-03d630a9cb0f","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804161028,"user_tz":-180,"elapsed":358,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Alice and [1, 2]'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":46}],"source":["name1, name2 = 'Alice', [1, 2]\n","'Hello, %s and %s' % (name1, name2)"]},{"cell_type":"code","source":["'Hello, %(first_name)s and %(second_name)s' % {'first_name': name1, 'second_name': name2}"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"nw25TmqDENcp","executionInfo":{"status":"ok","timestamp":1674804161029,"user_tz":-180,"elapsed":15,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"84a1015e-a93e-4793-a897-23667dd58e28"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Alice and [1, 2]'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":47}]},{"cell_type":"markdown","source":["- `%d` - целые числа"],"metadata":{"id":"4xihbNR-D5AO"}},{"cell_type":"code","source":["result = 99\n","'Your score: %d' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"DDff0SghHBOo","executionInfo":{"status":"ok","timestamp":1674804166851,"user_tz":-180,"elapsed":646,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"9bf2f5a7-ba40-4f74-c61e-30a0baf5360a"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":48}]},{"cell_type":"code","source":["result = 99.9\n","'Your score: %d' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"BGQWXssoHJ_o","executionInfo":{"status":"ok","timestamp":1674804171871,"user_tz":-180,"elapsed":397,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"c7d03d4e-226c-4773-8c76-d5dce0e75a47"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":49}]},{"cell_type":"code","source":["result = '99.9'\n","'Your score: %d' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":184},"id":"I2rHkveCHLxT","executionInfo":{"status":"error","timestamp":1674804180406,"user_tz":-180,"elapsed":465,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"c5620293-b384-4304-e12f-569ce6c80bd1"},"execution_count":null,"outputs":[{"output_type":"error","ename":"TypeError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-50-70da6dc2a08a>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m'99.9'\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0;34m'Your score: %d'\u001b[0m \u001b[0;34m%\u001b[0m \u001b[0mresult\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mTypeError\u001b[0m: %d format: a number is required, not str"]}]},{"cell_type":"markdown","source":["- `%f` - числа с плавающей точкой"],"metadata":{"id":"GVQEgbzmD6ke"}},{"cell_type":"code","source":["result = 99.9\n","'Your score: %f' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"QN5hWFTCHXja","executionInfo":{"status":"ok","timestamp":1674653326925,"user_tz":-180,"elapsed":6,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"cab6f97d-eabe-40b1-c317-0a066194ccc9"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99.900000'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":53}]},{"cell_type":"markdown","source":["- `%.<number of digits>f` - числа с плавающей точкой с фиксированным кол-вом чисел после запятой"],"metadata":{"id":"7G5B343lD74m"}},{"cell_type":"code","source":["result = 99.9\n","'Your score: %.1f' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"JNKmvNf4HppG","executionInfo":{"status":"ok","timestamp":1674804241699,"user_tz":-180,"elapsed":25,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"97306ec7-a916-4894-be5d-3be3ae78ba05"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99.9'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":52}]},{"cell_type":"markdown","source":["- `%x`/`%X` - целые числа в шестнадцатеричном представлении (lowercase/uppercase)"],"metadata":{"id":"ZRHdURwWD9RN"}},{"cell_type":"code","source":["result = 110\n","'Your score: %x' % result"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"FoofB023lQKO","executionInfo":{"status":"ok","timestamp":1674804271404,"user_tz":-180,"elapsed":28,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"28dc494e-9b7d-45d1-ce1b-3b8f5f9b9a2d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 6e'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":54}]},{"cell_type":"markdown","source":["#### Метод `format`"],"metadata":{"id":"jeXauMDwC-AF"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"xIZEQRhNGTbR","outputId":"de2ec5db-0dc3-4e8c-e844-ed519bb25867","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804319525,"user_tz":-180,"elapsed":324,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Bob'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":55}],"source":["# New style\n","\n","name = 'Bob'\n","'Hello, {}'.format(name)"]},{"cell_type":"markdown","metadata":{"id":"qhgSveURGTbR"},"source":["В функцию `format` можно передавать и несколько аргументов:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"J6U5lGBrGTbS","outputId":"be876425-096f-4d45-dee1-ad20ac44ec7a","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400160693,"user_tz":-180,"elapsed":1050,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Bob! Hello, Alice!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":36}],"source":["'Hello, {}! Hello, {}!'.format('Bob','Alice')"]},{"cell_type":"markdown","metadata":{"id":"e8Qin4j5GTbS"},"source":["Для точного указания параметра можно использовать индексы и ключи:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"NPgLLIwiGTbS","outputId":"015b9bba-1315-43cc-9d97-b49e11f2b394","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804342041,"user_tz":-180,"elapsed":317,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Alice! Hello, Bob!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":56}],"source":["'Hello, {1}! Hello, {0}!'.format('Bob','Alice')"]},{"cell_type":"code","source":["'Hello, {name1}! Hello, {name2}! Hello, {name1} again!'.format(name1='Bob', name2='Alice')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"ejUQ8gY071kO","executionInfo":{"status":"ok","timestamp":1674804353720,"user_tz":-180,"elapsed":424,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"038058fd-71d5-4657-f6b9-3499e9935863"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Bob! Hello, Alice! Hello, Bob again!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":57}]},{"cell_type":"markdown","metadata":{"id":"zMEPJSczGTbS"},"source":["Кроме строк можно подставлять и другие типы данных:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"RAV9JtmVGTbS","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804361298,"user_tz":-180,"elapsed":439,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"03b711a3-1a5c-4ff8-c454-4916394abe8a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hey Bob, I have a decimal number 50159747054!'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":58}],"source":["'Hey {}, I have a decimal number {}!'.format('Bob', 50159747054)"]},{"cell_type":"code","source":["'Coordinates: {latitude}, {longitude}'.format(latitude=37.24, longitude=-115.81)"],"metadata":{"id":"eX01Z6cWIGdD","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804367181,"user_tz":-180,"elapsed":24,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"82f44345-e555-4bff-fd58-676684e2ef78"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Coordinates: 37.24, -115.81'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":59}]},{"cell_type":"markdown","source":["Можно использовать те же флаги, что и с оператором `%`:"],"metadata":{"id":"lj6dsDcEKxaG"}},{"cell_type":"code","source":["name1, name2 = 'Alice', 'Rob'\n","'Hello, {:s} and {:s}'.format(name1, name2)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"69OARpYEK6vn","executionInfo":{"status":"ok","timestamp":1674804374913,"user_tz":-180,"elapsed":15,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"47765056-6bba-4212-e14e-31fa41b9ac6b"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Hello, Alice and Rob'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":60}]},{"cell_type":"code","source":["result = 99\n","'Your score: {:d}'.format(result)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"GjENhGCeLFYa","executionInfo":{"status":"ok","timestamp":1674804374915,"user_tz":-180,"elapsed":14,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"06321357-3652-4b7d-e857-a09e814c7319"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":61}]},{"cell_type":"code","source":["result = 99.9\n","'Your score: {:f}'.format(result)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"tay2152pLLY1","executionInfo":{"status":"ok","timestamp":1674804376143,"user_tz":-180,"elapsed":13,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"2ca15b09-2498-4790-936d-f820d893049d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99.900000'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":62}]},{"cell_type":"code","source":["result = 99.9\n","'Your score: {:.2f}'.format(result)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"DrufbtRtLNoC","executionInfo":{"status":"ok","timestamp":1674804377989,"user_tz":-180,"elapsed":23,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"7fc70b03-7270-4486-d5b5-77e9da559129"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 99.90'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":63}]},{"cell_type":"code","source":["result = 79\n","'Your score: {:x}'.format(result)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"VpUXejG-LPYc","executionInfo":{"status":"ok","timestamp":1674804381367,"user_tz":-180,"elapsed":428,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"40800909-383c-4456-bd26-1430bdf1565c"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Your score: 4f'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":64}]},{"cell_type":"markdown","metadata":{"id":"lY0huDq-GTbS"},"source":["### f-строки"]},{"cell_type":"markdown","source":["**f-строки** - более новый и удобный способ форматирования строк, добавлен в Python 3.6:"],"metadata":{"id":"C9b73xI2IL42"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"ezmRFCKDGTbS","outputId":"56a57ceb-7852-430d-e1d2-51e723e04e06","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400263488,"user_tz":-180,"elapsed":623,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'В 2023-м году состоится 7-й сезон курса Python 3'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":40}],"source":["year = 2023\n","season = 7\n","f'В {year}-м году состоится {season}-й сезон курса Python 3'  # Обратите внимание на символ f перед строкой"]},{"cell_type":"markdown","metadata":{"id":"RGcgcktSGTbT"},"source":["f-строки поддерживают форматирование чисел:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"0ERUtMMVGTbT","outputId":"8e23492d-9b7a-4c50-e280-8fb7686f275d","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400288383,"user_tz":-180,"elapsed":472,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'В 2023-м году состоится  7.00-й сезон курса Python 3'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":41}],"source":["year = 2023\n","season = 7\n","\n","# .2f - вещественное число с двумя знаками после запятой\n","f'В {year}-м году состоится {season:.2f}-й сезон курса Python 3'"]},{"cell_type":"markdown","metadata":{"id":"Ot3YG90OGTbT"},"source":["Внутри f-строк можно выполнять различные операции:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"omJoT9BkGTbT","outputId":"1df16bdd-f6d0-486b-905c-770a33d4ddfa","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804454117,"user_tz":-180,"elapsed":278,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'В 2023-м году состоится 7-й сезон курса Python 3'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":65}],"source":["year = 2023\n","\n","f'В {year}-м году состоится {year-2017+1}-й сезон курса Python 3'"]},{"cell_type":"markdown","metadata":{"id":"B8Mvov97GTbT"},"source":["Можно обращаться к элементам списков по индексу:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"75iktgkgGTbT","outputId":"1f025df9-34f2-420d-e1d3-7749fadacc9b"},"outputs":[{"name":"stdout","output_type":"stream","text":["В 2023-м году состоится 7-й сезон курса Python 3\n"]}],"source":["years = [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023]\n","season = 7\n","\n","f'В {years[season]}-м году состоится {season}-й сезон курса Python 3'"]},{"cell_type":"markdown","metadata":{"id":"wYB_la7ZGTbT"},"source":["И даже использовать функции и методы:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"OSXbawm6GTbU","outputId":"3ccbd47a-1339-4ee4-de4c-53dc769dd697","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804473201,"user_tz":-180,"elapsed":647,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'В 2023-м году состоится 7-й сезон PYTHON 3'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":66}],"source":["year = 2023\n","season = 7\n","name = 'Python 3'\n","\n","f'В {year}-м году состоится {season}-й сезон {name.upper()}'"]},{"cell_type":"markdown","source":["#### Как вывести фигурные скобки?"],"metadata":{"id":"lnYOaMzIhhWV"}},{"cell_type":"markdown","source":["Ок, значит для подстановки переменных и выражений в f-строках мы используем фигурные скобки. Но как тогда мы можем просто отрисовать фигурную скобку в f-строках? Просто продублируем их!"],"metadata":{"id":"nxBO_sIThpHg"}},{"cell_type":"code","source":["f\"{{70 + 4}}\""],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"7DWgjk-NrPeL","executionInfo":{"status":"ok","timestamp":1674746592862,"user_tz":-180,"elapsed":358,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"f9c121ad-7fe2-49d6-97bb-2931200f6625"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'{70 + 4}'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":1}]},{"cell_type":"markdown","source":["Если используем тройные фигурные скобки:\n","\n"],"metadata":{"id":"r73mLUzirRvc"}},{"cell_type":"code","source":["f\"{{{70 + 4}}}\""],"metadata":{"id":"gxGZdPwHrUCk"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["#### `f\"{var=}\"`"],"metadata":{"id":"kWeo5d9adryl"}},{"cell_type":"markdown","source":["Еще одна удобна фича f-строк - вывод имени выводимо переменной:"],"metadata":{"id":"mZ9FCJ_khgAz"}},{"cell_type":"code","source":["debug_var = 42\n","f\"{debug_var=}\""],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":34},"id":"F3tQDMhvsysh","executionInfo":{"status":"ok","timestamp":1674804583866,"user_tz":-180,"elapsed":307,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"89118257-e036-4e47-b90f-1ca2d81abca2"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'debug_var=42'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":67}]},{"cell_type":"markdown","source":["Помогает при отладке приложения с помощью `print` и f-строк."],"metadata":{"id":"LI6-iit4s6BL"}},{"cell_type":"markdown","metadata":{"id":"whLPGgAoGTbU"},"source":["## Модуль `string`"]},{"cell_type":"markdown","source":["В Python есть специальный модуль для облегчения работы со строками:"],"metadata":{"id":"oGD7SnVUIdBg"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"YU0dKTHCGTbU","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674804615833,"user_tz":-180,"elapsed":426,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"b9f51efa-f860-4893-b585-1b8100c548cc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":68}],"source":["import string\n","\n","string.ascii_letters"]},{"cell_type":"code","source":["string.ascii_lowercase"],"metadata":{"id":"N_Vd3hYHIquP","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400440971,"user_tz":-180,"elapsed":31,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"c6d04d7c-e450-4a2d-d9fb-3cfdcaff77c9"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'abcdefghijklmnopqrstuvwxyz'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":43}]},{"cell_type":"code","source":["string.digits"],"metadata":{"id":"1OzvqcK9Irp4","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400440973,"user_tz":-180,"elapsed":24,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"b5dde983-a74e-45cb-e6ab-d451eb0a0012"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'0123456789'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":44}]},{"cell_type":"code","source":["string.whitespace"],"metadata":{"id":"Km-_GJhMIscb","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400451181,"user_tz":-180,"elapsed":514,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"8217b123-e4ac-4e97-bab2-a955b93ea0bc"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["' \\t\\n\\r\\x0b\\x0c'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":45}]},{"cell_type":"markdown","source":["### `Template`"],"metadata":{"id":"0eC3nCYYXy75"}},{"cell_type":"markdown","metadata":{"id":"NlrSKA0tGTbU"},"source":["Также модуль позволяет создавать шаблоны c помощью `Template` и метода `substitute`:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"v1ruy3T8GTbU","outputId":"9e84492d-2e65-4505-90de-f45908fec70f","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400559241,"user_tz":-180,"elapsed":643,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'tim likes kung pao'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":46}],"source":["from string import Template\n","\n","s = Template('$who likes $what')\n","s.substitute(who='tim', what='kung pao')"]},{"cell_type":"markdown","metadata":{"id":"rBRNirAyGTbU"},"source":["Если в словаре отсутствует один из ключей, то вылезет ошибка."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"DK436h8UGTbU","outputId":"eb7fbafd-3186-426f-85f4-b994ae63bec9","colab":{"base_uri":"https://localhost:8080/","height":330},"executionInfo":{"status":"error","timestamp":1665400563343,"user_tz":-180,"elapsed":27,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"error","ename":"KeyError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyError\u001b[0m                                  Traceback (most recent call last)","\u001b[0;32m<ipython-input-47-2e7b7ec59cdd>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0md\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mwho\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'tim'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0mTemplate\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'$who likes $what'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msubstitute\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0md\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m/usr/lib/python3.7/string.py\u001b[0m in \u001b[0;36msubstitute\u001b[0;34m(*args, **kws)\u001b[0m\n\u001b[1;32m    130\u001b[0m             raise ValueError('Unrecognized named group in pattern',\n\u001b[1;32m    131\u001b[0m                              self.pattern)\n\u001b[0;32m--> 132\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpattern\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msub\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mconvert\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtemplate\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    133\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    134\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0msafe_substitute\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkws\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/lib/python3.7/string.py\u001b[0m in \u001b[0;36mconvert\u001b[0;34m(mo)\u001b[0m\n\u001b[1;32m    123\u001b[0m             \u001b[0mnamed\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mmo\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mgroup\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'named'\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mor\u001b[0m \u001b[0mmo\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mgroup\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'braced'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    124\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mnamed\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 125\u001b[0;31m                 \u001b[0;32mreturn\u001b[0m \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mmapping\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mnamed\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    126\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mmo\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mgroup\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'escaped'\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    127\u001b[0m                 \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdelimiter\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyError\u001b[0m: 'what'"]}],"source":["d = dict(who='tim')\n","Template('$who likes $what').substitute(d)"]},{"cell_type":"markdown","metadata":{"id":"h0osjqUwGTbU"},"source":["Чтобы этого не было, необходимо использовать метод `safe_substitute`:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_7EM3kE6GTbV","outputId":"eaa501a2-ee5c-445e-eeca-5c5166e6abf5","colab":{"base_uri":"https://localhost:8080/","height":35},"executionInfo":{"status":"ok","timestamp":1665400588722,"user_tz":-180,"elapsed":532,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["'tim likes $what'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":48}],"source":["Template('$who likes $what').safe_substitute(d)"]},{"cell_type":"markdown","metadata":{"id":"eBkbGU9nGTbV"},"source":["# Кодировки"]},{"cell_type":"markdown","source":["**Определения:**\n","- **Символ** (韩) - абстракция\n","- **Charset** - набор \"допустимых\" символов\n","- **Кодировка** - правила, как записывать символы в компьютере\n","\n","Операции перевода символьного представления в байтовое и обратно - **кодирование** и **декодирование**."],"metadata":{"id":"fGGpYYIlI6w0"}},{"cell_type":"markdown","source":["Кодировки:\n","- **ASCII** - кодировка для 128 символов. Каждый символ занимает 7 бит.\n","- **КОИ-8** - кодировка для 256 символов (расширение ASCII для русского языка). Символ занимает 8 бит.\n","- **Unicode** - стандарт, включающий в себя несколько кодировок:\n","    - UTF-8 - от 1 до 4 байт\n","    - UTF-16 - 2 или 4 байта\n","    - UTF-32 - 4 байта\n","\n","В Unicode уникальный идентификатор символа (например, r, Я или 韩) != байтовое представление."],"metadata":{"id":"FCw1hKHEJMBt"}},{"cell_type":"markdown","source":["В Python для всего этого есть `string` - для последовательности символов, и `bytes` - для последовательности байтов."],"metadata":{"id":"sv_W14noJSpZ"}},{"cell_type":"markdown","metadata":{"id":"tPj3tYSfGTbV"},"source":["Можно переходить между символом Unicode (напр., \"U+1D11E\") и его целочисленным идентификатором с помощью функций `ord` и `chr`:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"h9oIhJsjGTbV","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674804998508,"user_tz":-180,"elapsed":427,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"6f8431ff-cb3b-45ee-cd17-46f7e243b971"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["119070"]},"metadata":{},"execution_count":69}],"source":["ord('𝄞')"]},{"cell_type":"code","source":["ord('\\U0001D11E')"],"metadata":{"id":"ywKeB5RfJUmN","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805006593,"user_tz":-180,"elapsed":414,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"32f93805-21c0-44a0-f669-9c03020e1e21"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["119070"]},"metadata":{},"execution_count":70}]},{"cell_type":"code","source":["chr(ord('\\U0001D11E'))"],"metadata":{"id":"UBqxjQZAJWBR","colab":{"base_uri":"https://localhost:8080/","height":34},"executionInfo":{"status":"ok","timestamp":1674805015898,"user_tz":-180,"elapsed":310,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"9e03ec62-4347-4882-c17f-3ae2df59d6df"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'𝄞'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":71}]},{"cell_type":"markdown","metadata":{"id":"7XtRmOG0GTbV"},"source":["Рассмотрим еще пример:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"v9UuaRsbGTbV","outputId":"cb1bdb64-29a1-405c-9740-8cc839818ab0","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805045401,"user_tz":-180,"elapsed":415,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["4"]},"metadata":{},"execution_count":72}],"source":["s = 'café'\n","len(s)"]},{"cell_type":"code","source":["b = s.encode('utf8')\n","print(len(b), type(b))"],"metadata":{"id":"yJYkgN8vJnMO","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805051445,"user_tz":-180,"elapsed":418,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"92270dc5-c0a2-4cb8-c4d3-84c0adaf3b05"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["5 <class 'bytes'>\n"]}]},{"cell_type":"code","source":["b # binary representation"],"metadata":{"id":"nFbp7Y-qJof7","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805061796,"user_tz":-180,"elapsed":328,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"c5801022-2592-45d3-fc4a-6bf5e6053092"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'caf\\xc3\\xa9'"]},"metadata":{},"execution_count":74}]},{"cell_type":"markdown","metadata":{"id":"R2GQ25FeGTbV"},"source":["Длина символьного представления - 4, а байтового - 5. В чем дело?"]},{"cell_type":"markdown","metadata":{"id":"2ZI-Dv1NGTbV"},"source":["Посмотрим на то, как выглядит каждый байт в отдельности:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"LPVjFBF1GTbW","outputId":"500ecc94-4552-4e62-a246-34924362fd32","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805080814,"user_tz":-180,"elapsed":310,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["b'caf\\xc3\\xa9'\n","0x63 99 c\n","0x61 97 a\n","0x66 102 f\n","0xc3 195 Ã\n","0xa9 169 ©\n"]}],"source":["print(b)\n","for byte in b:\n","    print(hex(byte), byte, chr(byte))"]},{"cell_type":"markdown","metadata":{"id":"1k_-UZvoGTbW"},"source":["Какие кодировки можем использовать? Разные:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"cYgAsv0OGTbW","outputId":"cd2fc31c-77ff-4ce9-94c5-1049b0a4fead","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674805144840,"user_tz":-180,"elapsed":442,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["latin_1\t\tEl Niño\t\tb'El Ni\\xf1o'\n","utf_8\t\tEl Niño\t\tb'El Ni\\xc3\\xb1o'\n","utf_16\t\tEl Niño\t\tb'\\xff\\xfeE\\x00l\\x00 \\x00N\\x00i\\x00\\xf1\\x00o\\x00'\n","cp437\t\tEl Niño\t\tb'El Ni\\xa4o'\n"]}],"source":["string = 'El Niño'\n","\n","for codec in ['latin_1', 'utf_8', 'utf_16', 'cp437']:\n","    encoded = string.encode(codec)\n","    print(codec, encoded.decode(codec), encoded, sep='\\t\\t')"]},{"cell_type":"markdown","metadata":{"id":"kSxxuAjMGTbW"},"source":["Не все кодировки работают для всех строк:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"nQTvUjIQGTbW","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674654506963,"user_tz":-180,"elapsed":1033,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"1635a935-7db7-4887-f992-48f90217fd60"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'S\\xc3\\xa3o Paulo'"]},"metadata":{},"execution_count":71}],"source":["city = 'São Paulo'\n","city.encode('utf_8')"]},{"cell_type":"code","source":["city.encode('utf_16')"],"metadata":{"id":"Af2nu8NfJ6y8","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674654507253,"user_tz":-180,"elapsed":7,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"82134acf-b548-4e82-87f9-10e8d7b6aff6"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'\\xff\\xfeS\\x00\\xe3\\x00o\\x00 \\x00P\\x00a\\x00u\\x00l\\x00o\\x00'"]},"metadata":{},"execution_count":72}]},{"cell_type":"code","source":["city.encode('iso8859_1')"],"metadata":{"id":"ikfAe8DdJ77D","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1674654507635,"user_tz":-180,"elapsed":18,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"34db32ba-24cb-4124-a9c4-e43c2223e01f"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'S\\xe3o Paulo'"]},"metadata":{},"execution_count":73}]},{"cell_type":"code","source":["city.encode('cp437')"],"metadata":{"id":"Xm3XyEzmJ8-T","colab":{"base_uri":"https://localhost:8080/","height":290},"executionInfo":{"status":"error","timestamp":1674654507637,"user_tz":-180,"elapsed":16,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"e1370954-a704-4333-da39-f56882234025"},"execution_count":null,"outputs":[{"output_type":"error","ename":"UnicodeEncodeError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mUnicodeEncodeError\u001b[0m                        Traceback (most recent call last)","\u001b[0;32m<ipython-input-74-064a572fd5b6>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mcity\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mencode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'cp437'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m/usr/lib/python3.8/encodings/cp437.py\u001b[0m in \u001b[0;36mencode\u001b[0;34m(self, input, errors)\u001b[0m\n\u001b[1;32m     10\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     11\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mencode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0minput\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0merrors\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'strict'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 12\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mcodecs\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcharmap_encode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0minput\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0merrors\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mencoding_map\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     13\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     14\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mdecode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0minput\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0merrors\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'strict'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mUnicodeEncodeError\u001b[0m: 'charmap' codec can't encode character '\\xe3' in position 1: character maps to <undefined>"]}]},{"cell_type":"markdown","metadata":{"id":"j2lTOhUeGTbW"},"source":["Что делать с такими ошибками? Обрабатывать:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"UzwATrFSGTbW"},"outputs":[],"source":["city.encode('cp437', errors='ignore') # bad"]},{"cell_type":"code","source":["city.encode('cp437', errors='replace') # better"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"6K3NNgnJqQzf","executionInfo":{"status":"ok","timestamp":1674654513025,"user_tz":-180,"elapsed":260,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"0d1b281e-8a0f-42b0-8d44-29c2baff5c57"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'S?o Paulo'"]},"metadata":{},"execution_count":75}]},{"cell_type":"code","source":["city.encode('cp437', errors='xmlcharrefreplace') # still not perfect"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"x2XO2Gv2qTr3","executionInfo":{"status":"ok","timestamp":1674654513271,"user_tz":-180,"elapsed":3,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"}},"outputId":"0694fd88-f828-44f5-f2f2-c7015b9ae210"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["b'S&#227;o Paulo'"]},"metadata":{},"execution_count":76}]}],"metadata":{"celltoolbar":"Слайд-шоу","kernelspec":{"display_name":"Python 3 (ipykernel)","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.9.5"},"colab":{"provenance":[{"file_id":"1mPXQejQySqryTH3DOXvkr-voRQ_4FBCp","timestamp":1707640984365},{"file_id":"1y7L49m1ngg0aziqqQo7O0pkdobPLjqwR","timestamp":1674647680280},{"file_id":"1OhnYst3SVeA27sF8S_CwyEJRsXgA3UoG","timestamp":1665324910775}],"toc_visible":true}},"nbformat":4,"nbformat_minor":0}