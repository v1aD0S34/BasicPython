{"cells":[{"cell_type":"markdown","metadata":{"id":"2pS8HUFlGHXm"},"source":["# Практикум Python\n","\n","\n","\u003cimg src=\"https://www.python.org/static/community_logos/python-logo-master-v3-TM.png\" align=\"right\" style=\"height: 200px;\"/\u003e"]},{"cell_type":"markdown","metadata":{"id":"q4m4rxArNXJl"},"source":["# Библиотека NumPy\n"]},{"cell_type":"markdown","metadata":{"id":"vrbwKsdRTvbO"},"source":["# Особенности Numpy"]},{"cell_type":"markdown","metadata":{"id":"4_VIPjepbrlP"},"source":["**[NumPy]((http://www.numpy.org/))** (**Num**eric **Py**thon) - это open-source модуль для Python, который предоставляет общие математические и числовые операции в виде пре-скомпилированных, быстрых функций (использует типы из C, которые существенно быстрее чем Python типы). Они обеспечивают функционал, который можно сравнить с функционалом MatLab."]},{"cell_type":"code","execution_count":3,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1712659324389,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"USBh92hETvbR"},"outputs":[],"source":["import numpy as np"]},{"cell_type":"markdown","metadata":{"id":"wF3c409GcW9l"},"source":["**Преимущества NumPy:**\n","\n","- **Быстрее** - NumPy использует алгоритмы, написанные на C, которые работают *значительно быстрее* чем те, что написаны на Python.\n","- **Меньше циклов** - NumPy помогает уменьшить количество циклов в коде вашей программы, что мешает не запутаться в них.\n","- **Чище код** - без вложенных циклов ваш код больше будет намного чище и проще для чтения.\n","- **Better quality** - код библиотеки написан сообществом профессионалов, поэтому он оптимизирован, приятен в работе и не содержит багов.\n","\n","По этим причинам NumPy является де-факто стандартом для работы с многомерными массивами в анализе данных. Многие популярные библиотеки в своем исходном коде используют NumPy."]},{"cell_type":"markdown","metadata":{"id":"S15dNOa9iHoY"},"source":["# Массивы в NumPy"]},{"cell_type":"markdown","metadata":{"id":"rFBcvH-Uiq_v"},"source":["Основным объектом `NumPy` является *однородный* многомерный массив, в numpy он реализован через объект `ndarray`. Массивы (`ndarray`) похожи на списки (`list`), но могут хранить только элементы одного типа. Производить вычисления с массивами гораздо быстрее и эффективнее чем со списками."]},{"cell_type":"markdown","metadata":{"id":"37Lrqi3Uiq_w"},"source":["Наиболее важные атрибуты объектов ndarray:\n","1. **`ndarray.ndim`** - число измерений (чаще их называют \"оси\") массива.\n","  \n","2. **`ndarray.shape`** - размеры массива, его форма. Это кортеж натуральных чисел, показывающий длину массива по каждой оси. Для матрицы из `n` строк и `m` столбов, shape будет `(n,m)`. Число элементов кортежа shape равно ndim.\n","3. **`ndarray.size`** - количество элементов массива. Очевидно, равно произведению всех элементов атрибута shape.\n","4. **`ndarray.dtype`** - объект, описывающий тип элементов массива. Можно определить dtype, используя стандартные типы данных Python. Можно хранить и numpy типы, например: `bool`, `int16`, `int32`, `int64`, `float16`, `float32`, `float64`, `complex64`.\n","5. **`ndarray.itemsize`** - размер каждого элемента массива в байтах."]},{"cell_type":"markdown","metadata":{"id":"NLOejZXhTvbQ"},"source":[" NumPy основан на предварительно скомпилированных программах, написанных на C, и по сути является оберткой над ними. По этой причине NumPy использует отдельные типы данных и отличаются от питоновских (хотя и похожи). Эти типы являются обёртками над этими типами, которые **используют реализацию типов на C**, например, `int8`, `int16`, `int32`, `int64` (подробнее о типах данных `numpy` можно прочитать [здесь](https://www.numpy.org/devdocs/user/basics.types.html)). За счёт того, что используются типы данных из C, numpy получает ускорение операций."]},{"cell_type":"markdown","metadata":{"id":"fSULbUQTkcTL"},"source":["## Создание массива из списка"]},{"cell_type":"markdown","metadata":{"id":"oKKbTmGZiq_w"},"source":["Научимся создавать NumPy-массивы. Один из способов - создать из списка Python:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":281,"status":"ok","timestamp":1677579135514,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"rasNpn3eiq_x","outputId":"1562dd6f-e0ac-4af1-d31e-d18aac43537c"},"outputs":[{"data":{"text/plain":["array([1, 2, 3, 1, 0], dtype=int16)"]},"execution_count":2,"metadata":{},"output_type":"execute_result"}],"source":["a = np.array([1.0, 2, 3, 1, 0], dtype=np.int16)\n","a"]},{"cell_type":"markdown","metadata":{"id":"ky4UbzSAjyR1"},"source":["Тип создаваемого объекта - `ndarray`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":266,"status":"ok","timestamp":1677579142356,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"G8S8_4emjx11","outputId":"26ef5503-8aa5-4b64-a9a8-05912847c468"},"outputs":[{"data":{"text/plain":["numpy.ndarray"]},"execution_count":4,"metadata":{},"output_type":"execute_result"}],"source":["type(a)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":11,"status":"ok","timestamp":1677579143379,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"3EI7S_rI-Lcf","outputId":"239a932c-debb-4fce-a8d1-df643fd1a46a"},"outputs":[{"data":{"text/plain":["dtype('int16')"]},"execution_count":5,"metadata":{},"output_type":"execute_result"}],"source":["a.dtype"]},{"cell_type":"markdown","metadata":{"id":"90OzYdgUj2uf"},"source":["Посмотрим значения атрибутов у созданного массива:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":261,"status":"ok","timestamp":1677579149202,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"HtU_qt2kiq_y","outputId":"63194c62-71ae-4fe0-9712-81b2dee6e7c7"},"outputs":[{"name":"stdout","output_type":"stream","text":["[1 2 3 1 0]\n","a.shape = (5,)\n","a.ndim = 1\n","a.size = 5\n","a.dtype = dtype('int16')\n","a.itemsize = 2\n","a[0] = 1\n"]}],"source":["print(a)\n","print(f\"{a.shape = }\")\n","print(f\"{a.ndim = }\")\n","print(f\"{a.size = }\")\n","print(f\"{a.dtype = }\")\n","print(f\"{a.itemsize = }\")\n","print(f\"{a[0] = }\")"]},{"cell_type":"markdown","metadata":{"id":"LpP-_z-DkGmk"},"source":["Если вдруг вы забыли какие полезные атрибуты есть у массива, воспользуйтесь отличной документацией NumPy:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"S5PlK3f1iq_x"},"outputs":[],"source":["np.array?"]},{"cell_type":"markdown","metadata":{"id":"LfRDgaftiq_y"},"source":["Аналогично создается и двумерный массив из списка списков:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"wvak8KlJiq_y"},"outputs":[],"source":["b = np.array([[1, 8, 3],\n","              [3, 2, 3],\n","              [3, 5, 6]])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":258,"status":"ok","timestamp":1677579257794,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"AqWjaakCiq_z","outputId":"6f5a49e1-31b6-4048-9e28-4c461db5e956"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[1 8 3]\n"," [3 2 3]\n"," [3 5 6]]\n","b.shape = (3, 3)\n","b.ndim = 2\n","b.size = 9\n","b.dtype = dtype('int64')\n","Размер каждого элемента массива в байтах b.itemsize = 8\n","Нулевая строка b[0] = array([1, 8, 3])\n","Обращение к элементу b[строка][столбец]: b[0][1] = 8\n","Обращение к элементу b[строка, столбец]: b[0, 1] = 8\n"]}],"source":["print(b)\n","print(f\"{b.shape = }\")\n","print(f\"{b.ndim = }\")\n","print(f\"{b.size = }\")\n","print(f\"{b.dtype = }\")\n","print(f\"Размер каждого элемента массива в байтах {b.itemsize = }\")\n","print(f\"Нулевая строка {b[0] = }\")\n","print(f\"Обращение к элементу b[строка][столбец]: {b[0][1] = }\")\n","print(f\"Обращение к элементу b[строка, столбец]: {b[0, 1] = }\")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":392,"status":"ok","timestamp":1677398563845,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"MotKV-lC_v-q","outputId":"fb1a51af-81b9-4965-e0c2-7e530ac067ec"},"outputs":[{"data":{"text/plain":["array([1, 2, 3, 1, 0], dtype=int16)"]},"execution_count":11,"metadata":{},"output_type":"execute_result"}],"source":["a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":246,"status":"ok","timestamp":1677579276439,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"9G6rGw4T_uMG","outputId":"877a24e5-5c0b-4f59-ee19-158a854b49ca"},"outputs":[{"data":{"text/plain":["array([  1,   2,   3, -84,   0], dtype=int16)"]},"execution_count":11,"metadata":{},"output_type":"execute_result"}],"source":["a[3] = -84\n","a"]},{"cell_type":"markdown","metadata":{"id":"H2J_KW22iq_z"},"source":["**Важный момент** - вложенные списки должны быть одинаковой длины, чтобы массив был представим в виде прямоугольника."]},{"cell_type":"code","execution_count":4,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1712659331761,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"NWPUfawK_ToQ","outputId":"e6a186b3-1759-45cd-c67f-260abf688245"},"outputs":[{"data":{"text/plain":["array([list([1, 8, 3]), list([3, 2, 3]), 5, 'string'], dtype=object)"]},"execution_count":4,"metadata":{},"output_type":"execute_result"}],"source":["np.array([[1, 8, 3], [3, 2, 3], 5, 'string'], dtype=object)"]},{"cell_type":"markdown","metadata":{"id":"5ijm7skriq_0"},"source":["## Способы генерации массивов"]},{"cell_type":"markdown","metadata":{"id":"VvdHPMImlvue"},"source":["Не всегда нужно получать массив из готовых данных, иногда нужно получать заполненные массивы по заданному правилу."]},{"cell_type":"markdown","metadata":{"id":"nRQymypYmOFe"},"source":["### Заполненный нулями"]},{"cell_type":"markdown","metadata":{"id":"YDvWB4XimisF"},"source":["Для создания заполненной нулями массива используется функция `zeros`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":237,"status":"ok","timestamp":1677579373165,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"8ZBeTDhsv7CP","outputId":"c92844f3-8942-42f6-cfc2-cc132c011fed"},"outputs":[{"data":{"text/plain":["array([[0., 0., 0.],\n","       [0., 0., 0.],\n","       [0., 0., 0.],\n","       [0., 0., 0.]])"]},"execution_count":13,"metadata":{},"output_type":"execute_result"}],"source":["m = np.zeros((4, 3))\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":298,"status":"ok","timestamp":1677579377005,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"EP-REVAewUrN","outputId":"e1c362c7-9e0e-428c-ffa4-838a20c48cf0"},"outputs":[{"data":{"text/plain":["2"]},"execution_count":14,"metadata":{},"output_type":"execute_result"}],"source":["m.ndim"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":333,"status":"ok","timestamp":1677579385416,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"_s2Pp5-mmeV_","outputId":"b7c877dc-d6b4-4996-b998-e09b371b3f83"},"outputs":[{"data":{"text/plain":["array([[[0., 0.],\n","        [0., 0.],\n","        [0., 0.]],\n","\n","       [[0., 0.],\n","        [0., 0.],\n","        [0., 0.]],\n","\n","       [[0., 0.],\n","        [0., 0.],\n","        [0., 0.]],\n","\n","       [[0., 0.],\n","        [0., 0.],\n","        [0., 0.]]])"]},"execution_count":15,"metadata":{},"output_type":"execute_result"}],"source":["m = np.zeros((4, 3, 2))\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":843,"status":"ok","timestamp":1677579397807,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"BZRjmAK0v4nE","outputId":"c23d259f-8367-4958-ba71-52fe675b0f26"},"outputs":[{"data":{"text/plain":["3"]},"execution_count":16,"metadata":{},"output_type":"execute_result"}],"source":["m.ndim"]},{"cell_type":"markdown","metadata":{"id":"zOk18dqum7fh"},"source":["Еще одна функция - `zeros_like`, позволяет создавать массив из нулей с формой массива, передаваемого как аргумент (сделай такой же массив как этот, только заполненный нулями):"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":290,"status":"ok","timestamp":1677579406998,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"JqeP6cXFnbEM","outputId":"9a3c98ea-4658-4471-d6b0-e658e9d9f28b"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 3],\n","       [3, 5, 6]])"]},"execution_count":17,"metadata":{},"output_type":"execute_result"}],"source":["b"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":240,"status":"ok","timestamp":1677579412096,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"6OcBVgVfncEz","outputId":"5982428e-086c-4bde-8cf5-89d48bba5ace"},"outputs":[{"data":{"text/plain":["array([[0, 0, 0],\n","       [0, 0, 0],\n","       [0, 0, 0]])"]},"execution_count":18,"metadata":{},"output_type":"execute_result"}],"source":["m = np.zeros_like(b)\n","m"]},{"cell_type":"markdown","metadata":{"id":"jtE_WfiMngNs"},"source":["### Заполненный единицами"]},{"cell_type":"markdown","metadata":{"id":"4mmoCf-eoW5Y"},"source":["Аналогично, существует функция `ones`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":253,"status":"ok","timestamp":1677579418753,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"c4BfJhNdoFe5","outputId":"cb6f5302-f877-43f6-9db4-be3ff287bd85"},"outputs":[{"data":{"text/plain":["array([[1., 1., 1., 1.],\n","       [1., 1., 1., 1.],\n","       [1., 1., 1., 1.],\n","       [1., 1., 1., 1.],\n","       [1., 1., 1., 1.]])"]},"execution_count":19,"metadata":{},"output_type":"execute_result"}],"source":["m = np.ones((5, 4))\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677579421076,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"dRiJ1sHYwjKC","outputId":"66a512a8-b8d2-433a-f436-411a6d6ae2ea"},"outputs":[{"data":{"text/plain":["(5, 4)"]},"execution_count":20,"metadata":{},"output_type":"execute_result"}],"source":["m.shape"]},{"cell_type":"markdown","metadata":{"id":"eUVuE8L8ooVD"},"source":["И функция `ones_like`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":251,"status":"ok","timestamp":1677579424451,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"L4ImYTSwozC8","outputId":"2fe588e4-7c82-4a45-e43a-12c4d114fdf1"},"outputs":[{"data":{"text/plain":["array([[1, 1, 1],\n","       [1, 1, 1],\n","       [1, 1, 1]])"]},"execution_count":21,"metadata":{},"output_type":"execute_result"}],"source":["m = np.ones_like(b)\n","m"]},{"cell_type":"markdown","metadata":{"id":"LtbwnIEMiq_0"},"source":["### Eдиничная матрица"]},{"cell_type":"markdown","metadata":{"id":"DRbK-nNIpN7q"},"source":["Один из базовых объектов линейной алгебры - **единичная матрица**. Это матрица (двумерный массив), у которой элементы на главной диагонали (№ столбца=№ строки) равны 1, а все остальные - 0."]},{"cell_type":"markdown","metadata":{"id":"EWNcF955pq8N"},"source":["Для создания такой матрицы в NumPy используется функция `eye`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":273,"status":"ok","timestamp":1664988086777,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"pX5oH4Aeiq_1","outputId":"a9b91bbc-0262-41fe-8493-efdca815e0b5"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0.]\n"," [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]\n"]}],"source":["m = np.eye(13)\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":283,"status":"ok","timestamp":1664988097843,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"neuuK0q0iq_2","outputId":"9f20e2c7-23d9-4af5-f814-8d3866321bc1"},"outputs":[{"data":{"text/plain":["array([[1., 0., 0., 0.],\n","       [0., 1., 0., 0.],\n","       [0., 0., 1., 0.]])"]},"execution_count":32,"metadata":{},"output_type":"execute_result"}],"source":["np.eye(3, 4)"]},{"cell_type":"code","execution_count":6,"metadata":{"executionInfo":{"elapsed":378,"status":"ok","timestamp":1712659450350,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"MkGljzqPiq_2"},"outputs":[],"source":["np.eye??"]},{"cell_type":"markdown","metadata":{"id":"7SUTt2Ciiq_6"},"source":["### Массив из диапазона значений"]},{"cell_type":"markdown","metadata":{"id":"JltpSb83iq_6"},"source":["Подобно функции range в обычном Python, в NumPy можно создавать массивы из диапазона чисел `[start, end)` с определенным шагом с помощью функции `arange`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":259,"status":"ok","timestamp":1677579559120,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"2sz3_GNkiq_6","outputId":"a201f539-efd1-453c-84bb-26cf7e7f7bb1"},"outputs":[{"data":{"text/plain":["array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])"]},"execution_count":23,"metadata":{},"output_type":"execute_result"}],"source":["np.arange(10)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1677579560435,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"l7msUWqXiq_7","outputId":"863ea73e-0b2d-4d55-9973-d37cb3bb1f15"},"outputs":[{"data":{"text/plain":["array([1, 2, 3, 4, 5, 6, 7, 8, 9])"]},"execution_count":24,"metadata":{},"output_type":"execute_result"}],"source":["np.arange(1, 10)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":17,"status":"ok","timestamp":1677579561248,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"43QLMSzSiq_7","outputId":"5d5aa1d0-aa31-4872-a1aa-93fa1c831ed5"},"outputs":[{"data":{"text/plain":["array([0. , 0.2, 0.4, 0.6, 0.8, 1. , 1.2, 1.4, 1.6, 1.8, 2. , 2.2, 2.4,\n","       2.6, 2.8, 3. , 3.2, 3.4, 3.6, 3.8, 4. , 4.2, 4.4, 4.6, 4.8, 5. ,\n","       5.2, 5.4, 5.6, 5.8, 6. , 6.2, 6.4, 6.6, 6.8, 7. , 7.2, 7.4, 7.6,\n","       7.8, 8. , 8.2, 8.4, 8.6, 8.8, 9. , 9.2, 9.4, 9.6, 9.8])"]},"execution_count":25,"metadata":{},"output_type":"execute_result"}],"source":["np.arange(0, 10, 0.2)"]},{"cell_type":"markdown","metadata":{"id":"L_v4G2XLiq_-"},"source":["Альтернативой функции arange является функция linspace, которая позволяет разбить числовой диапазон `[start, stop]` на нужное количество точек:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":251,"status":"ok","timestamp":1677579581438,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"g3JVJlF-iq_-","outputId":"fd66341e-6866-4859-fc96-b33779f0229e"},"outputs":[{"name":"stdout","output_type":"stream","text":["[0. 1. 2. 3.]\n"]}],"source":["m = np.linspace(0, 3, 4)\n","print(m)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":770,"status":"ok","timestamp":1677579592338,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"vc4MPSG7CtAR","outputId":"b81afa51-9af1-49b2-9187-f80f6e2e3149"},"outputs":[{"data":{"text/plain":["dtype('float64')"]},"execution_count":27,"metadata":{},"output_type":"execute_result"}],"source":["m.dtype"]},{"cell_type":"code","execution_count":14,"metadata":{"executionInfo":{"elapsed":388,"status":"ok","timestamp":1712659761159,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"fFy25yGviq_-"},"outputs":[],"source":["np.linspace??"]},{"cell_type":"code","execution_count":12,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":382,"status":"ok","timestamp":1712659730124,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"Cdcz9i0uiq__","outputId":"2ee80244-bb46-4dcb-d5ac-5783051cdab0"},"outputs":[{"data":{"text/plain":["array([0.        , 0.06122449, 0.12244898, 0.18367347, 0.24489796,\n","       0.30612245, 0.36734694, 0.42857143, 0.48979592, 0.55102041,\n","       0.6122449 , 0.67346939, 0.73469388, 0.79591837, 0.85714286,\n","       0.91836735, 0.97959184, 1.04081633, 1.10204082, 1.16326531,\n","       1.2244898 , 1.28571429, 1.34693878, 1.40816327, 1.46938776,\n","       1.53061224, 1.59183673, 1.65306122, 1.71428571, 1.7755102 ,\n","       1.83673469, 1.89795918, 1.95918367, 2.02040816, 2.08163265,\n","       2.14285714, 2.20408163, 2.26530612, 2.32653061, 2.3877551 ,\n","       2.44897959, 2.51020408, 2.57142857, 2.63265306, 2.69387755,\n","       2.75510204, 2.81632653, 2.87755102, 2.93877551, 3.        ])"]},"execution_count":12,"metadata":{},"output_type":"execute_result"}],"source":["np.linspace(0, 3)"]},{"cell_type":"code","execution_count":13,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":374,"status":"ok","timestamp":1712659732068,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"EFzIgderD6uS","outputId":"35e26ff6-a840-4611-a934-85e20728e99b"},"outputs":[{"data":{"text/plain":["array([0.     , 0.06122, 0.12244, 0.1837 , 0.2449 , 0.3062 , 0.3674 ,\n","       0.4285 , 0.4897 , 0.551  , 0.6123 , 0.6733 , 0.735  , 0.796  ,\n","       0.857  , 0.9185 , 0.9795 , 1.041  , 1.102  , 1.163  , 1.225  ,\n","       1.286  , 1.347  , 1.408  , 1.47   , 1.53   , 1.592  , 1.653  ,\n","       1.714  , 1.775  , 1.837  , 1.898  , 1.959  , 2.02   , 2.082  ,\n","       2.143  , 2.203  , 2.266  , 2.326  , 2.389  , 2.45   , 2.51   ,\n","       2.572  , 2.633  , 2.693  , 2.756  , 2.816  , 2.877  , 2.94   ,\n","       3.     ], dtype=float16)"]},"execution_count":13,"metadata":{},"output_type":"execute_result"}],"source":["np.linspace(0, 3, dtype=np.float16)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"rSgVRTFaFDYH"},"outputs":[],"source":["np.array?"]},{"cell_type":"markdown","metadata":{"id":"QMP0f8Wliq__"},"source":["Помимо линейного диапазона в NumPy еще есть и экспоненциальный диапазон -   $[base^{start}$, $base^{end}]$"]},{"cell_type":"code","execution_count":15,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":319,"status":"ok","timestamp":1712659790435,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"u8Mx3JIHirAA","outputId":"4d920e0c-6c83-4025-b5ed-d968cc8f38d0"},"outputs":[{"data":{"text/plain":["array([   10.        ,    11.51395399,    13.25711366,    15.26417967,\n","          17.57510625,    20.23589648,    23.29951811,    26.82695795,\n","          30.88843596,    35.56480306,    40.94915062,    47.14866363,\n","          54.28675439,    62.50551925,    71.9685673 ,    82.86427729,\n","          95.40954763,   109.8541142 ,   126.48552169,   145.63484775,\n","         167.68329368,   193.06977289,   222.29964825,   255.95479227,\n","         294.70517026,   339.32217719,   390.69399371,   449.8432669 ,\n","         517.94746792,   596.36233166,   686.648845  ,   790.60432109,\n","         910.29817799,  1048.11313415,  1206.79264064,  1389.49549437,\n","        1599.85871961,  1842.06996933,  2120.95088792,  2442.05309455,\n","        2811.76869797,  3237.45754282,  3727.59372031,  4291.93426013,\n","        4941.71336132,  5689.86602902,  6551.2855686 ,  7543.12006335,\n","        8685.11373751, 10000.        ])"]},"execution_count":15,"metadata":{},"output_type":"execute_result"}],"source":["start, end = 1, 4\n","np.logspace(start, end, num=50, base=10)"]},{"cell_type":"code","execution_count":16,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":391,"status":"ok","timestamp":1712659800993,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"PxNmRYjet83Q","outputId":"39ee0f8f-d469-485f-ad2a-175986a2612c"},"outputs":[{"name":"stdout","output_type":"stream","text":["[ 4.  8. 16. 32.]\n"]}],"source":["m = np.logspace(2.0, 5.0, num=4, base=2)\n","print(m)"]},{"cell_type":"markdown","metadata":{"id":"g33aAyoMirAA"},"source":["### Заполнение случайными числами"]},{"cell_type":"markdown","metadata":{"id":"HDJcrnrcvVuG"},"source":["В NumPy имеется модуль для работы со случайными числами и распределениями - `random` (во многом похож на модуль `random` в Python)."]},{"cell_type":"markdown","metadata":{"id":"FEib1env1DAS"},"source":["#### О работе генераторов случайных чисел"]},{"cell_type":"markdown","metadata":{"id":"gwEIOvE6B-jA"},"source":["Генераторы случайных чисел практически всегда выдают **псевдослучайные числа**, т.е. они формируются с использованием определенной формулы, но при этом хорошо ложатся на равномерное распределение.\n","\n","Чтобы формулы для псевдослучайных чисел не выдавали одну и ту же последовательность чисел, в них вводят дополнительную переменную - состояние (random seed), он которого и зависит получаемая последовательность. Часто в качестве random seed используют системное время и другие параметры системы.\n","\n","Для воспроизводимости вычислений и экспериментов очень важно вручную задавать random seed, чтобы ваши коллеги смогли максимально точно повторить ваши вычисления."]},{"cell_type":"markdown","metadata":{"id":"lNfYaQKw1STZ"},"source":["#### Равномерное распределение"]},{"cell_type":"markdown","metadata":{"id":"GnFZFNO60_0s"},"source":["Для создания массива, заполненного равномерно из диапазона $[0,1]$, можно использовать функцию `rand` модуля `random`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1677579938763,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"_5W-c4PfirAA","outputId":"61d74483-59b7-460d-bdc3-6d06419e53c7"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[0.37454012 0.95071431]\n"," [0.73199394 0.59865848]]\n"]}],"source":["np.random.seed(42)\n","print(np.random.rand(2, 2))"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":256,"status":"ok","timestamp":1677579988708,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"W6maRCZVirAB","outputId":"a5666a85-36c8-4151-c662-602cd9b0e8b0"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[0.12203823 0.49517691]\n"," [0.03438852 0.9093204 ]]\n"]}],"source":["#np.random.seed(42)\n","print(np.random.rand(2, 2))"]},{"cell_type":"markdown","metadata":{"id":"7W-3apBA1XRY"},"source":["#### Нормальное распределение"]},{"cell_type":"markdown","metadata":{"id":"9RtrdbqBwCyZ"},"source":["Если нужно нормальное распределение - `randn`!"]},{"cell_type":"code","execution_count":19,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":473,"status":"ok","timestamp":1712660012512,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"a-JObHAqirAC","outputId":"186267fb-cc57-4e0d-ab33-fc22987c2baa"},"outputs":[{"data":{"text/plain":["array([[[ 0.55271222,  0.7919517 ],\n","        [ 2.5492959 ,  0.99680415],\n","        [ 1.02280644,  0.84376565]],\n","\n","       [[-0.10572833, -1.67299519],\n","        [-0.72321833, -0.28729913],\n","        [ 0.04304904,  0.48938154]]])"]},"execution_count":19,"metadata":{},"output_type":"execute_result"}],"source":["np.random.randn(2, 3, 2)"]},{"cell_type":"code","execution_count":19,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1712660012939,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"hMDQbMzyfI8D"},"outputs":[],"source":[]},{"cell_type":"markdown","metadata":{"id":"LBrvDOOA1aOk"},"source":["#### Заполнение элементами массива"]},{"cell_type":"markdown","metadata":{"id":"LzRDQhYCwKSh"},"source":["Если хотите случайно заполнить массив из какого-либо другого списка / массива, пригодится `choice`:"]},{"cell_type":"code","execution_count":20,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":307,"status":"ok","timestamp":1712660155692,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"HqieZVBFirAC","outputId":"3e20d0e1-5c5e-4423-c545-3d474fb2a02a"},"outputs":[{"data":{"text/plain":["array([ 8, 18,  3, 10, 15, 19,  1, 12, 13, 11])"]},"execution_count":20,"metadata":{},"output_type":"execute_result"}],"source":["# массив из случайно выбранных чисел\n","# size - размер возвращаемого массива, replace=False без замещения\n","np.random.choice(a=np.arange(20), size=10, replace=False)"]},{"cell_type":"code","execution_count":21,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1712660163269,"user":{"displayName":"Бояров Алексей","userId":"05058840961708249492"},"user_tz":-180},"id":"hfuuL62rirAD","outputId":"822086b5-8dca-4d3c-8c0f-04fca186ef2e"},"outputs":[{"data":{"text/plain":["array([[13,  9, 10,  6,  5],\n","       [ 5,  6, 10, 17,  8],\n","       [ 8, 12,  7, 17, 13],\n","       [ 4,  6, 14, 10, 18],\n","       [ 5,  4, 13, 18,  0]])"]},"execution_count":21,"metadata":{},"output_type":"execute_result"}],"source":["np.random.choice(a=np.arange(20), size=(5, 5), replace=True)"]},{"cell_type":"markdown","metadata":{"id":"G7gM42J6TvbP"},"source":["### Скорость создания больших массивов"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4624,"status":"ok","timestamp":1677580190920,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Vq8DTwfjirAE"},"outputs":[{"name":"stdout","output_type":"stream","text":["CPU times: user 1.43 s, sys: 5.22 s, total: 6.65 s\n","Wall time: 6.65 s\n"]}],"source":["%%time\n","a_py = list(range(10 ** 8))\n","#  %%time - выводит время выполнения ячейки"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":603,"status":"ok","timestamp":1677580210938,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"bpVfpe71MU_J"},"outputs":[{"name":"stdout","output_type":"stream","text":["CPU times: user 72.5 ms, sys: 401 ms, total: 473 ms\n","Wall time: 478 ms\n"]}],"source":["%%time\n","a_np = np.arange(10 ** 8)"]},{"cell_type":"markdown","metadata":{"id":"I3ocxdEFTvbu"},"source":["# Индексация"]},{"cell_type":"markdown","metadata":{"id":"3dGfIeil3eYX"},"source":["## Выбор одного элемента"]},{"cell_type":"markdown","metadata":{"id":"bQfTht9lzBK9"},"source":["Базовая индексация в NumPy очень похожа на классическую питоновскую:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":282,"status":"ok","timestamp":1677580259726,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"YtNr04tLTvbv","outputId":"8e9c89c1-a858-462c-93c9-129a89362e6c"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 1],\n","       [3, 5, 6]])"]},"execution_count":51,"metadata":{},"output_type":"execute_result"}],"source":["m = np.array([[1, 8, 3],\n","              [3, 2, 1],\n","              [3, 5, 6]])\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":268,"status":"ok","timestamp":1677580273960,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"ysec5vE55a4s","outputId":"ae884fdd-5f88-475d-c0be-ae7c2716959e"},"outputs":[{"data":{"text/plain":["array([3, 5, 6])"]},"execution_count":52,"metadata":{},"output_type":"execute_result"}],"source":["m[2]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":301,"status":"ok","timestamp":1677580293597,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"7XiSAG_Szu0W","outputId":"aaa607d0-f28a-4985-9470-a6121f338334"},"outputs":[{"data":{"text/plain":["5"]},"execution_count":53,"metadata":{},"output_type":"execute_result"}],"source":["m[2][1]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":250,"status":"ok","timestamp":1677580310661,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"mk7SjP-Pz94f","outputId":"dc2f020a-db6c-44c6-fa1a-f75583d56857"},"outputs":[{"data":{"text/plain":["5"]},"execution_count":54,"metadata":{},"output_type":"execute_result"}],"source":["m[2, 1]"]},{"cell_type":"markdown","metadata":{"id":"TPLLi-9zz_jA"},"source":["Так же поддерживаются срезы:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677580333866,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"vBJ443QKTvbw","outputId":"49549448-2ab8-49cf-9441-3870618071e1"},"outputs":[{"data":{"text/plain":["array([5, 6])"]},"execution_count":57,"metadata":{},"output_type":"execute_result"}],"source":["m[2, 1:]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":244,"status":"ok","timestamp":1677580335866,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"mOGOnekz0GnZ","outputId":"8716e5d5-ddce-430e-90e9-b679e8de7c61"},"outputs":[{"data":{"text/plain":["array([3, 6])"]},"execution_count":58,"metadata":{},"output_type":"execute_result"}],"source":["m[2, 0::2]"]},{"cell_type":"markdown","metadata":{"id":"zi6LUu760TqC"},"source":["Так же поддерживается срезы и по первой координате:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":371,"status":"ok","timestamp":1664818108050,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"JWLqRvwZTvbw","outputId":"208a6ac7-a5bd-446a-e177-d768faef585c"},"outputs":[{"data":{"text/plain":["array([8, 2, 5])"]},"execution_count":109,"metadata":{},"output_type":"execute_result"}],"source":["m[:, 1]"]},{"cell_type":"markdown","metadata":{"id":"piyIgyVL0nVH"},"source":["В обычном питоне такое сделать не получится:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":754,"status":"ok","timestamp":1677580365578,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"YBP5R9WuqSLs","outputId":"da7998dd-c988-4b19-d9ad-6082bc32eb7a"},"outputs":[{"data":{"text/plain":["[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n"," [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n"," [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n"," [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n"," [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]]"]},"execution_count":59,"metadata":{},"output_type":"execute_result"}],"source":["a = [[i for i in range(10)] for i in range(5)]\n","a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":244,"status":"ok","timestamp":1677580376749,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"YoA4-b7KqsX_","outputId":"65daaad3-fdfa-441b-a3b1-90596d28e274"},"outputs":[{"data":{"text/plain":["[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]"]},"execution_count":60,"metadata":{},"output_type":"execute_result"}],"source":["a[:][1]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":247,"status":"ok","timestamp":1677580392950,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"FHi1xxrm8bUk","outputId":"57247f7b-6a0b-4361-cf6d-9e77a8947f7a"},"outputs":[{"data":{"text/plain":["[1, 1, 1, 1, 1]"]},"execution_count":61,"metadata":{},"output_type":"execute_result"}],"source":["[a[i][1] for i in range(len(a))]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":304,"status":"ok","timestamp":1677580406974,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"B-E1pHkxrOxd","outputId":"25539c97-e26f-403b-c625-02cf4307abad"},"outputs":[{"data":{"text/plain":["array([[0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n","       [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n","       [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n","       [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n","       [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]])"]},"execution_count":62,"metadata":{},"output_type":"execute_result"}],"source":["a_np = np.array(a)\n","a_np"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":288,"status":"ok","timestamp":1677580409052,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"lsX1tUrQrVG4","outputId":"96b96b26-e93d-4165-f22d-850c01cfb727"},"outputs":[{"data":{"text/plain":["array([[2, 4, 6],\n","       [2, 4, 6],\n","       [2, 4, 6]])"]},"execution_count":63,"metadata":{},"output_type":"execute_result"}],"source":["a_np[::2, 2:7:2]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":272,"status":"ok","timestamp":1677580507631,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"izmT9Fj7lnzN","outputId":"104e495d-1701-4df2-c177-45ff35436563"},"outputs":[{"name":"stdout","output_type":"stream","text":["[0 1 2 3 4 5 6 7 8 9] [0 1 2 3 4 5 6 7 8 9] [0 1 2 3 4 5 6 7 8 9] [0 1 2 3 4 5 6 7 8 9] [0 1 2 3 4 5 6 7 8 9]\n"]}],"source":["print(*a_np)"]},{"cell_type":"markdown","metadata":{"id":"tDa5Ecle0-MZ"},"source":["## Выбор нескольких элементов"]},{"cell_type":"markdown","metadata":{"id":"sd_D0qS31WoM"},"source":["В NumPy имеется несколько способов выбрать набор элементов."]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":254,"status":"ok","timestamp":1677580541471,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"VZgO2lmApBic","outputId":"69e753c5-ba4a-4518-d540-676c1399a8bf"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 1],\n","       [3, 5, 6]])"]},"execution_count":68,"metadata":{},"output_type":"execute_result"}],"source":["m"]},{"cell_type":"markdown","metadata":{"id":"Cq6AVlR01mlA"},"source":["Первый способ подходит, если мы, например, работаем с табличными данными и хотим подробнее посмотреть на несколько строк в таблице, но не на все столбцы с данными, а лишь на несколько.\n","\n","В таком случае мы можем воспользоваться функцией `ix_` указать список индексов для каждой из координат:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1664992238306,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"WriyY7aLpqhJ","outputId":"74ecbe74-9f83-4ea6-fc1a-948a67fc61d0"},"outputs":[{"data":{"text/plain":["(array([[0],\n","        [2]]), array([[1, 2]]))"]},"execution_count":88,"metadata":{},"output_type":"execute_result"}],"source":["np.ix_([0, 2], [1, 2])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":304,"status":"ok","timestamp":1664992257833,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"aQcLIq2q7hrL","outputId":"90449a27-d0cf-4ad3-8364-830b2ad9af1e"},"outputs":[{"data":{"text/plain":["array([[8, 3],\n","       [5, 6]])"]},"execution_count":90,"metadata":{},"output_type":"execute_result"}],"source":["m[np.ix_([0, 2], [1, 2])]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":235,"status":"ok","timestamp":1677580642508,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"nh5ozr_K92RZ","outputId":"a3024240-46fe-49ec-ee8c-05185f2fc1f0"},"outputs":[{"data":{"text/plain":["array([[3]])"]},"execution_count":69,"metadata":{},"output_type":"execute_result"}],"source":["m[np.ix_([0], [2])]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":726,"status":"ok","timestamp":1677580651982,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"EQdKgQLv97D7","outputId":"248f010e-3fba-4567-fd37-51eafc5274ad"},"outputs":[{"data":{"text/plain":["3"]},"execution_count":70,"metadata":{},"output_type":"execute_result"}],"source":["m[0, 2]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":272,"status":"ok","timestamp":1677580656645,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"XDB1YVZ7RkHt","outputId":"ef38deae-6a16-49ce-d5b4-8ccf3526fa88"},"outputs":[{"data":{"text/plain":["array([[2, 1]])"]},"execution_count":71,"metadata":{},"output_type":"execute_result"}],"source":["m[np.ix_([1], [1, 2])]"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"uMRsItLDTvbz"},"outputs":[],"source":["m_dop = m[np.ix_([0, 2], [0, 1, 2, 1])]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1677580714089,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"cHQpgQkYpe7J","outputId":"7b778c6f-de73-4cf1-c4c0-ebe479eefea6"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3, 8],\n","       [3, 5, 6, 5]])"]},"execution_count":73,"metadata":{},"output_type":"execute_result"}],"source":["m_dop"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677580720943,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"mABY6u1G9W4-","outputId":"47b6c118-f57d-4229-d63e-65f938b5498c"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 1],\n","       [3, 5, 6]])"]},"execution_count":74,"metadata":{},"output_type":"execute_result"}],"source":["m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":264,"status":"ok","timestamp":1664992400560,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"evLvVuOG9ZVk","outputId":"191dc446-44f4-4c84-880c-b8a58559e015"},"outputs":[{"data":{"text/plain":["array([[1, 3],\n","       [3, 1],\n","       [3, 6]])"]},"execution_count":98,"metadata":{},"output_type":"execute_result"}],"source":["m[np.ix_(np.arange(m.shape[0]), [0, 2])]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":339,"status":"ok","timestamp":1664992413441,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"X67Z1Uq52e-1","outputId":"875839bf-8476-4f1c-e8a6-5ad9401ea2e3"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 1],\n","       [3, 5, 6]])"]},"execution_count":99,"metadata":{},"output_type":"execute_result"}],"source":["m"]},{"cell_type":"markdown","metadata":{"id":"Pdd1NANZ24UY"},"source":["Второй способ - хотим просто получить набор элементов с конкретными индексами. В таком случае просто указываем индексы желаемых элементов для каждой из координат:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1664992708632,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"5L0ma4l6Tvby","outputId":"6ba6b3a4-1604-43b4-b6fa-ee75f35be893"},"outputs":[{"data":{"text/plain":["array([1, 5, 3, 2])"]},"execution_count":102,"metadata":{},"output_type":"execute_result"}],"source":["m[[0, 2, 0, 1], [0, 1, 2, 1]]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":352,"status":"ok","timestamp":1664992756532,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"JxEKfh6NTBeb","outputId":"7dd6fe7e-33cd-4d67-c823-7b626c113005"},"outputs":[{"data":{"text/plain":["array([[1],\n","       [5],\n","       [3],\n","       [2]])"]},"execution_count":104,"metadata":{},"output_type":"execute_result"}],"source":["m[[0, 2, 0, 1], [0, 1, 2, 1]].reshape((4, 1))"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":263,"status":"ok","timestamp":1664818703708,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"ZurBLziXYvsE","outputId":"52ff6dd9-e777-47ee-f4af-a6ccc424d555"},"outputs":[{"data":{"text/plain":["array([[1, 8, 3],\n","       [3, 2, 1],\n","       [3, 5, 6]])"]},"execution_count":122,"metadata":{},"output_type":"execute_result"}],"source":["m"]},{"cell_type":"markdown","metadata":{"id":"dYfGBPAAPR0A"},"source":["# Broadcasting (Расширение/адаптация размерностей)\n"]},{"cell_type":"markdown","metadata":{"id":"AMQ1O8jK3tqx"},"source":["Мощный механизм, позволяющий NumPy работать с массивами различной формы при выполнении арифметических операций. Часто у нас есть меньший массив и больший массив, и мы хотим использовать меньший массив несколько раз, чтобы выполнить некоторую операцию над большим массивом\n","\n","[Наглядный туториал](https://scipy.github.io/old-wiki/pages/EricsBroadcastingDoc)"]},{"cell_type":"markdown","metadata":{"id":"yIriBp-y4mT4"},"source":["Иногда хотим выполнить операции между массивами разной формы.\n","\n","**Пример** - хотим посчитать разницу между одномерным массивом и каждой из строк матрицы (двумерного массива). Обычный Python не позволяет нам выполнять такую операцию. Но можем ли мы это сделать в NumPy:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":258,"status":"ok","timestamp":1677581058747,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"9zBuoWoo5Dpn","outputId":"6262a66e-ce38-4131-a5f3-9ac831d2413f"},"outputs":[{"data":{"text/plain":["array([[ 0,  0,  0],\n","       [-3, -3, -3],\n","       [-6, -6, -6],\n","       [-9, -9, -9]])"]},"execution_count":75,"metadata":{},"output_type":"execute_result"}],"source":["vector = np.array([1, 2, 3])\n","matrix = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]])\n","vector - matrix"]},{"cell_type":"markdown","metadata":{"id":"8iRwyNaD5VEv"},"source":["Что по сути происходит - NumPy \"расширяет\" наш вектор до размера 4x3, а затем выполняет вычитание."]},{"cell_type":"markdown","metadata":{"id":"IKudjKes5jqY"},"source":["Этот механизм называется **broadcasting**."]},{"cell_type":"markdown","metadata":{"id":"3QSeYF-25rhL"},"source":["Всегда ли он работает?"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":202},"executionInfo":{"elapsed":616,"status":"error","timestamp":1677581502147,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"mhdYAffg5tmO","outputId":"f5a8f292-f0db-4baa-e054-eb2785476009"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-80-70ec0e9dc39e\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0mvector\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m3\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m4\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0mmatrix\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m3\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;36m4\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m5\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m6\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;36m7\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m8\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m9\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m11\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m12\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----\u003e 3\u001b[0;31m \u001b[0mvector\u001b[0m \u001b[0;34m-\u001b[0m \u001b[0mmatrix\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: operands could not be broadcast together with shapes (4,) (4,3) "]}],"source":["vector = np.array([1, 2, 3, 4])\n","matrix = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]])\n","vector - matrix"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1677581502148,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"0i804jNIpjAy","outputId":"050e9e63-a0f1-4e20-d9f3-78fc64c1955e"},"outputs":[{"data":{"text/plain":["array([[ 0, -1, -2],\n","       [-2, -3, -4],\n","       [-4, -5, -6],\n","       [-6, -7, -8]])"]},"execution_count":81,"metadata":{},"output_type":"execute_result"}],"source":["vector = np.array([[1], [2], [3], [4]])\n","matrix = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]])\n","vector - matrix"]},{"cell_type":"markdown","metadata":{"id":"xUQ09fIp5vpQ"},"source":["## Как работает broadcasing?"]},{"cell_type":"markdown","metadata":{"id":"BQCev1WyM5m2"},"source":["Broadcasting работает с формами двух массивов:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":479,"status":"ok","timestamp":1677581227517,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"tekT3ZqfNBR6","outputId":"4440ceb8-b532-4d4b-a689-8b71e3b19e98"},"outputs":[{"data":{"text/plain":["(3,)"]},"execution_count":76,"metadata":{},"output_type":"execute_result"}],"source":["vector.shape"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677581227770,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"XZvYwqYoNDNY","outputId":"147bff25-0b45-4120-a810-1aa9784f1473"},"outputs":[{"data":{"text/plain":["(4, 3)"]},"execution_count":77,"metadata":{},"output_type":"execute_result"}],"source":["matrix.shape"]},{"cell_type":"markdown","metadata":{"id":"d2l7WB9VNS24"},"source":["Их формы представляются следующим образом:\n","\n","```\n","matrix  (2d array): 4 x 3\n","vector  (1d array):     3\n","```\n","\n","Первым делом их формы выравниваются с помощью добавления осей-пустышек:\n","\n","```\n","matrix  (2d array): 4 x 3\n","vector  (1d array): 1 x 3\n","```"]},{"cell_type":"markdown","metadata":{"id":"te2PNzRvN6vi"},"source":["Затем мы проходим справа налево и сравниваем количества элементов в двух массивах:\n","\n","1. Если они одинаковые, то это же количество будет и в результирующем векторе\n","2. Если один из них равен 1, то другое значение будет в результирующем векторе (растянем по этой оси)\n","3. Если не равны и ни один из них не равен 1, broadcasting не сработает\n","\n","Для нашего примера получим следующее:\n","\n","```\n","matrix  (2d array): 4 x 3\n","vector  (1d array): 1 x 3\n","result  (2d array): 4 x 3\n","```"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":246,"status":"ok","timestamp":1677581399252,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"6kFE8ieLhC2C","outputId":"ee887347-422b-4a56-f5d4-5302ce54d8ef"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[ 1  2  3]\n"," [ 4  5  6]\n"," [ 7  8  9]\n"," [10 11 12]]\n","[3 4 5]\n","[[ 4  6  8]\n"," [ 7  9 11]\n"," [10 12 14]\n"," [13 15 17]]\n"]}],"source":["# без broadcasting\n","x = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]])\n","v = np.array([3, 4, 5])\n","# empty like создает пустую матрицу такого же размера как x\n","y = np.zeros_like(x) # создаем пустую структуру, в нее мы будем складывать ответ\n","# zeros_like\n","# ones_like\n","\n","print(x)\n","print(v)\n","\n","for i in range(4):\n","    y[i, :] = x[i, :] + v\n","\n","print(y)"]},{"cell_type":"markdown","metadata":{"id":"OBhOmmQIYu1V"},"source":["## Как подготовить массивы к broadcasting?"]},{"cell_type":"markdown","metadata":{"id":"u4z8riz0Ja37"},"source":["`np.tile` повторяет массив v (n,m,...) n раз по 0-ой оси и m раз по 1-ой и т.д., получается новый массив:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":382,"status":"ok","timestamp":1664994837461,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"A3s5-vI2zD2Z","outputId":"1c858745-fd05-4da1-b883-ab68222329f8"},"outputs":[{"data":{"text/plain":["array([3, 4, 5])"]},"execution_count":116,"metadata":{},"output_type":"execute_result"}],"source":["v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":248,"status":"ok","timestamp":1677581548386,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"6ZcXOPUgiAW1","outputId":"07887188-805d-4a3e-aa7f-e997b4068ece"},"outputs":[{"data":{"text/plain":["array([[3, 4, 5],\n","       [3, 4, 5],\n","       [3, 4, 5],\n","       [3, 4, 5]])"]},"execution_count":82,"metadata":{},"output_type":"execute_result"}],"source":["vv = np.tile(v, (4, 1))\n","vv # получилась матрица такой же размерности как и матрица x"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":320,"status":"ok","timestamp":1677581574782,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"lsKQK72WzZ9D","outputId":"3c2a5760-acd4-432d-91ee-2fa3e63f951c"},"outputs":[{"data":{"text/plain":["array([[ 1,  2,  3],\n","       [ 4,  5,  6],\n","       [ 7,  8,  9],\n","       [10, 11, 12]])"]},"execution_count":83,"metadata":{},"output_type":"execute_result"}],"source":["x"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1677581575332,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"tYuVC4iyiNhr","outputId":"3c81752f-4355-45b6-d3c5-75840febf641"},"outputs":[{"data":{"text/plain":["array([[ 4,  6,  8],\n","       [ 7,  9, 11],\n","       [10, 12, 14],\n","       [13, 15, 17]])"]},"execution_count":84,"metadata":{},"output_type":"execute_result"}],"source":["x + vv"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":361,"status":"ok","timestamp":1677581577065,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"g8LM-ZAYiYHH","outputId":"5c5669aa-8d3e-4b7b-8eea-7528c4a5255a"},"outputs":[{"data":{"text/plain":["array([[ 4,  6,  8],\n","       [ 7,  9, 11],\n","       [10, 12, 14],\n","       [13, 15, 17]])"]},"execution_count":85,"metadata":{},"output_type":"execute_result"}],"source":["x + v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":305,"status":"error","timestamp":1677581593337,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"IO3s6HMTZBaS","outputId":"46dd94a1-54a0-4c87-aa9e-434967a622aa"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-86-7bb2ed637b67\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mx\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0marange\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m5\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: operands could not be broadcast together with shapes (4,3) (4,) "]}],"source":["x + np.arange(1, 5)"]},{"cell_type":"markdown","metadata":{"id":"MY-MIBszKC79"},"source":["Для этого нужно добавить \"дополнительную\" размерность 1.\n","\n","Обратите внимание, что (4,) и (4,1) это разные numpy массивы по форме. Первое интерпретируется как строка матрицы, а второе как столбец:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1677581639538,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"PUwyQ7U8dyBS","outputId":"14be5efe-7c88-490e-b239-e7be67ddff5a"},"outputs":[{"data":{"text/plain":["array([1, 2, 3, 4])"]},"execution_count":88,"metadata":{},"output_type":"execute_result"}],"source":["new_v = np.arange(1, 5)\n","new_v"]},{"cell_type":"markdown","metadata":{"id":"ePZvVVxyZHTX"},"source":["Поможет метод `reshape`:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677581639861,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"gNT5ZBMJi505","outputId":"e67a00c4-6d34-469f-9436-da9b24b8ceac"},"outputs":[{"data":{"text/plain":["array([[1, 2],\n","       [3, 4]])"]},"execution_count":89,"metadata":{},"output_type":"execute_result"}],"source":["new_v.reshape(2, 2)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":245,"status":"ok","timestamp":1677581664709,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"PTESmUcId-wk","outputId":"2b48fc82-ab5e-480d-8ec9-635749f71100"},"outputs":[{"data":{"text/plain":["array([[1],\n","       [2],\n","       [3],\n","       [4]])"]},"execution_count":90,"metadata":{},"output_type":"execute_result"}],"source":["new_v.reshape(4, 1)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":243,"status":"ok","timestamp":1677581673307,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"k1f7eno10h9A","outputId":"d184904b-7a03-449a-ddaa-50ca9c196896"},"outputs":[{"data":{"text/plain":["array([[[1]],\n","\n","       [[2]],\n","\n","       [[3]],\n","\n","       [[4]]])"]},"execution_count":91,"metadata":{},"output_type":"execute_result"}],"source":["new_v.reshape(4, 1, 1)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":349,"status":"ok","timestamp":1677581679099,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"6qc_0IANZUyB","outputId":"2a2a9c4b-80df-45ee-f6b7-5ce1dbf9d690"},"outputs":[{"data":{"text/plain":["array([[[1],\n","        [2],\n","        [3],\n","        [4]]])"]},"execution_count":92,"metadata":{},"output_type":"execute_result"}],"source":["new_v.reshape(1, 4, 1)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":255,"status":"error","timestamp":1677581682036,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"_yyH0l3Weagd","outputId":"842c9fe4-ea4e-4496-80f1-f7c6c50107bc"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-93-2f104acb53e0\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mx\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mnew_v\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: operands could not be broadcast together with shapes (4,3) (4,) "]}],"source":["x + new_v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":261,"status":"ok","timestamp":1677581686277,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"U80DxAWTVpvn","outputId":"aa0cac4d-89c1-406e-aaac-e1e91d8613b0"},"outputs":[{"data":{"text/plain":["array([[ 2,  3,  4],\n","       [ 6,  7,  8],\n","       [10, 11, 12],\n","       [14, 15, 16]])"]},"execution_count":94,"metadata":{},"output_type":"execute_result"}],"source":["x + new_v.reshape(4, 1)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677581879336,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"B00uXcMvq87y","outputId":"f81585e4-ec54-419a-c3a3-45efe699b14d"},"outputs":[{"data":{"text/plain":["array([[ 2,  3,  4],\n","       [ 6,  7,  8],\n","       [10, 11, 12],\n","       [14, 15, 16]])"]},"execution_count":95,"metadata":{},"output_type":"execute_result"}],"source":["x + np.arange(1, 5).reshape(4, 1)"]},{"cell_type":"markdown","metadata":{"id":"PVcFTwa4Tvbb"},"source":["## Пример"]},{"cell_type":"markdown","metadata":{"id":"yPFbknBfTvbm"},"source":["\u003cspan style=\"color:blue\"\u003eСоздайте матрицу 5x5 со значениями строк в диапазоне от 0 до 4\u003c/span\u003e"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":249,"status":"ok","timestamp":1677582015736,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"VN0YZXyyTvbn","outputId":"266d62f3-b328-4610-fd39-3025aaef7735","scrolled":true},"outputs":[{"data":{"text/plain":["array([[1., 1., 1., 1., 1.],\n","       [1., 1., 1., 1., 1.],\n","       [1., 1., 1., 1., 1.],\n","       [1., 1., 1., 1., 1.],\n","       [1., 1., 1., 1., 1.]])"]},"execution_count":96,"metadata":{},"output_type":"execute_result"}],"source":["m = np.ones((5, 5))\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677582016937,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"MRnmW0e3Tvbn","outputId":"e5648b42-6ea4-4dd2-eb28-a017011031ec"},"outputs":[{"data":{"text/plain":["array([0, 1, 2, 3, 4])"]},"execution_count":97,"metadata":{},"output_type":"execute_result"}],"source":["np.arange(5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":236,"status":"ok","timestamp":1677582020053,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"HCozSgIKTvbn","outputId":"2ab085e7-1199-4a51-aad0-2f862857aab6"},"outputs":[{"data":{"text/plain":["array([[1., 2., 3., 4., 5.],\n","       [1., 2., 3., 4., 5.],\n","       [1., 2., 3., 4., 5.],\n","       [1., 2., 3., 4., 5.],\n","       [1., 2., 3., 4., 5.]])"]},"execution_count":98,"metadata":{},"output_type":"execute_result"}],"source":["m = np.ones((5, 5))\n","m += np.arange(5)  # m = m + np.arange(5)\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":258,"status":"ok","timestamp":1677582086704,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"oQ2XI7HNIXDB","outputId":"e26d8426-30a7-4659-878f-a720fbccd1b6"},"outputs":[{"name":"stdout","output_type":"stream","text":["[1, 1, 1, 1, 1]\n","[1, 1, 1, 1, 1]\n","[1, 1, 1, 1, 1]\n","[1, 1, 1, 1, 1]\n","[1, 1, 1, 1, 1]\n"]}],"source":["sample_m = list([1 for x in range(5)] for _ in range(5))\n","print(*sample_m, sep='\\n')"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":413,"status":"ok","timestamp":1677582046253,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"UOMSTum4IqtD","outputId":"7286aab7-9b7e-4f93-b285-e1d1c5da5e15"},"outputs":[{"data":{"text/plain":["[[1, 1, 1, 1, 1],\n"," [1, 1, 1, 1, 1],\n"," [1, 1, 1, 1, 1],\n"," [1, 1, 1, 1, 1],\n"," [1, 1, 1, 1, 1],\n"," 0,\n"," 1,\n"," 2,\n"," 3,\n"," 4]"]},"execution_count":100,"metadata":{},"output_type":"execute_result"}],"source":["sample_m += list(range(5))\n","sample_m"]},{"cell_type":"markdown","metadata":{"id":"htiw2Mf4Tvbz"},"source":["# Операции с матрицами и векторами"]},{"cell_type":"markdown","metadata":{"id":"2nyPZWkMTvbz"},"source":["В NumPy двумерный массив можно рассматривать и как матрицу, то есть для него определены все матричные операции. Одномерный массив также можно рассматривать как вектор."]},{"cell_type":"markdown","metadata":{"id":"PVQiG6OfTvbz"},"source":["## Транспонирование"]},{"cell_type":"markdown","metadata":{"id":"Ae8WPQQJTvb0"},"source":["Транспонированной матрицей $A^{T}$ называется матрица, полученная из исходной матрицы $A$ путем замены строк на столбцы."]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":407,"status":"ok","timestamp":1664819528687,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"UiupbJ8xTvb0","outputId":"1c4f59b8-9b6d-47cb-c1c2-328ecde169c3"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[ 1 12  3  4]\n"," [ 3  2 10  2]\n"," [ 3 56  6 11]]\n","\n","[[ 1  3  3]\n"," [12  2 56]\n"," [ 3 10  6]\n"," [ 4  2 11]]\n"]}],"source":["m = np.array([[1, 12, 3, 4],\n","              [3, 2, 10, 2],\n","              [3, 56, 6, 11]])\n","print(m)\n","print()\n","print(m.T)"]},{"cell_type":"markdown","metadata":{"id":"5xFICzJ5Tvb0"},"source":["## Скалярное произведение векторов"]},{"cell_type":"markdown","metadata":{"collapsed":true,"id":"tZ15kMMgTvb0"},"source":["Рассмотрим два вектора $a$ и $b$ в n-мерном пространстве  \n","$a = (a_1, a_2, a_3, \\dots a_n)$   \n","$b = (b_1, b_2, b_3, \\dots b_n)$   \n","Скалярное произведение векторов $a$ и $b$ определяется следующим образом:  \n","$$\\langle a, b \\rangle = a_1 b_1 + a_2 b_2 + a_3 b_3 \\dots + a_n b_n = \\sum_{i = 1}^{n} a_i b_i$$"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":244,"status":"ok","timestamp":1677582193702,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"qGgYjq2kTvb1","outputId":"7dfa3484-fa02-4cce-9549-b65a91472e5a"},"outputs":[{"name":"stdout","output_type":"stream","text":["29\n","29\n","29\n"]}],"source":["a = np.array([3, 1, 5, 2])\n","b = np.array([2, 5, 2, 4])\n","# \u003ca, b\u003e = 3*2 + 1*5 + 5*2 + 2*4\n","print(a @ b)    # python 3 style\n","print(a.dot(b))\n","print(np.dot(a, b))"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":242,"status":"ok","timestamp":1677582208692,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"s7GBa9sxX4fi","outputId":"511a2f83-4061-432d-e274-c46e4d923abf"},"outputs":[{"data":{"text/plain":["array([3, 1, 5, 2])"]},"execution_count":104,"metadata":{},"output_type":"execute_result"}],"source":["a"]},{"cell_type":"markdown","metadata":{"id":"ojOJ8v_5Tvb1"},"source":["**Умножение матриц**  \n","  \n","Операция умножения определена для двух матриц, таких что число столбцов первой равно числу строк второй.\n","\n","Пусть матрицы $A$ и $B$ таковы, что $A \\in \\mathbb{R}^{n \\times k}$ и $B \\in \\mathbb{R}^{k \\times m}$.    \n","__Произведением__ матриц $A$ и $B$ называется матрица $C$, такая что\n","$$c_{ij} = \\sum_{r=1}^{k} a_{ir}b_{rj}$$,\n","где  $c_{ij}$ — элемент матрицы $C$, стоящий на пересечении строки с номером $i$ и столбца с номером $j$."]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":245,"status":"ok","timestamp":1677582260770,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"DQ0JcGlqTvb2","outputId":"e7bb3bbd-1512-4523-8aa7-9f4a13fe4ece"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[8 5]\n"," [2 2]]\n","[[8 5]\n"," [2 2]]\n","[[8 5]\n"," [2 2]]\n"]}],"source":["a = np.array([[1, 2], [0, 1]])\n","b = np.array([[4, 1], [2, 2]])\n","print(a @ b)    # python 3 style\n","print(a.dot(b))\n","print(np.dot(a, b))"]},{"cell_type":"markdown","metadata":{"id":"q8qbSx1bTvb2"},"source":["Также доступно *ПОЭЛЕМЕНТНОЕ* умножение, не путать с матричным!"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":382,"status":"ok","timestamp":1664819965813,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"8jL31NmyTvb3","outputId":"fceef51e-b2b3-4cd3-acbe-af8a3c8c0194"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[4 2]\n"," [0 2]]\n"]}],"source":["print(a * b)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":621,"status":"error","timestamp":1677582307607,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Fe741CM9jBN7","outputId":"b053b0dd-9fe6-4648-bdbe-9888d2c3562a"},"outputs":[{"ename":"TypeError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-108-fe66f206e46f\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m@\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mTypeError\u001b[0m: unsupported operand type(s) for @: 'list' and 'list'"]}],"source":["[0, 1] @ [0, 1]"]},{"cell_type":"markdown","metadata":{"id":"PZfiErYHTvb3"},"source":["## Умножение матриц и векторов"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":294,"status":"ok","timestamp":1677582331620,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"xKziOERsAgCb","outputId":"05d74107-35e3-4161-f546-b3751611e52c"},"outputs":[{"data":{"text/plain":["array([[1, 2],\n","       [0, 1],\n","       [2, 4]])"]},"execution_count":109,"metadata":{},"output_type":"execute_result"}],"source":["m = np.array([[1, 2], [0, 1], [2, 4]])\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1677582331921,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"dI_S5nBlTvb3","outputId":"c398f9c8-0773-4611-e1ea-b68142fd495a"},"outputs":[{"data":{"text/plain":["array([2, 5])"]},"execution_count":110,"metadata":{},"output_type":"execute_result"}],"source":["v = np.array([2, 5])\n","v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":243,"status":"ok","timestamp":1677582344591,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"CZpGDFOuTvb3","outputId":"9614b8d2-3750-4999-a3a6-f089791f12a2"},"outputs":[{"data":{"text/plain":["array([12,  5, 24])"]},"execution_count":111,"metadata":{},"output_type":"execute_result"}],"source":["m @ v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1664820147375,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"FO41nMh_A1o6","outputId":"d1c6260f-9831-433c-c6f4-e118a15e269a"},"outputs":[{"data":{"text/plain":["array([[1, 2, 1, 1],\n","       [0, 1, 1, 1],\n","       [2, 4, 1, 1]])"]},"execution_count":141,"metadata":{},"output_type":"execute_result"}],"source":["m = np.array([[1, 2, 1, 1], [0, 1, 1, 1], [2, 4, 1, 1]])\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":278,"status":"ok","timestamp":1664820848086,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"H77YaNxeY8cQ","outputId":"10a8a59b-212c-428e-85ce-ff9d8d9fdade"},"outputs":[{"data":{"text/plain":["array([2, 5])"]},"execution_count":144,"metadata":{},"output_type":"execute_result"}],"source":["v = np.array([2, 5])\n","v"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":184},"executionInfo":{"elapsed":796,"status":"error","timestamp":1664820160695,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"9v49uHM_A6B5","outputId":"b1b89981-e7a4-4755-ab40-76f65fe00674"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-143-9ed2cbfa6e3d\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mm\u001b[0m \u001b[0;34m@\u001b[0m \u001b[0mv\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: matmul: Input operand 1 has a mismatch in its core dimension 0, with gufunc signature (n?,k),(k,m?)-\u003e(n?,m?) (size 2 is different from 4)"]}],"source":["m @ v"]},{"cell_type":"markdown","metadata":{"id":"t3Qza82ATvbS"},"source":["# Математические функции"]},{"cell_type":"markdown","metadata":{"id":"nAvRlYL2hLYd"},"source":["NumPy используется для анализа данных, а анализ невозможен без математических функций. Поэтому в NumPy присутствует набор основных математических функций."]},{"cell_type":"markdown","metadata":{"id":"XjdE3PMfh1g9"},"source":["Вспомним, какие математические функции есть в обычном Python:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":343,"status":"ok","timestamp":1664995700991,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Hbfkcf9u-x0r","outputId":"da7e5253-d545-402f-ace1-80573c10ff0a"},"outputs":[{"name":"stdout","output_type":"stream","text":["__doc__ __loader__ __name__ __package__ __spec__ acos acosh asin asinh atan atan2 atanh ceil copysign cos cosh degrees e erf erfc exp expm1 fabs factorial floor fmod frexp fsum gamma gcd hypot inf isclose isfinite isinf isnan ldexp lgamma log log10 log1p log2 modf nan pi pow radians remainder sin sinh sqrt tan tanh tau trunc\n"]}],"source":["import math\n","print(*dir(math))"]},{"cell_type":"markdown","metadata":{"id":"LrEDyq-TTvbT"},"source":["- `np.log(x)` - натуральный логарифм x\n","- `np.log10(x)` - десятичный логарифм x\n","- `np.log2(x)`\n","- `np.sqrt(x)` - квадратный корень из x\n","- `np.power(x, n)` - возведение x в степень n\n","- `np.abs(x)` - модуль x\n","- `np.round(x, n)` - математическое округление x\n","- `np.floor(x)` - округление вниз\n","- `np.ceil(x)` - округление вверх\n","- `np.int(x)` - округление к нулю\n","- `np.sin(x)` - синус\n","- `np.cos(x)` - косинус\n","- ... и т. д.."]},{"cell_type":"markdown","metadata":{"id":"S3VXJ4eSTvbU"},"source":["Рассмотрим примеры таких функций:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":270,"status":"ok","timestamp":1677582517640,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"3GeASL_nTvbV","outputId":"97fb0a9b-da5a-4b90-8374-695ef4e54070"},"outputs":[{"data":{"text/plain":["2.303"]},"execution_count":112,"metadata":{},"output_type":"execute_result"}],"source":["np.log(10, dtype=np.float16)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":252,"status":"ok","timestamp":1677582535099,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"HfUobTqCTvbW","outputId":"8b341583-788d-4ed3-f090-88d67b269d18"},"outputs":[{"name":"stderr","output_type":"stream","text":["\u003cipython-input-113-64f908b93ed3\u003e:1: RuntimeWarning: divide by zero encountered in log\n","  np.log(0.0)\n"]},{"data":{"text/plain":["-inf"]},"execution_count":113,"metadata":{},"output_type":"execute_result"}],"source":["np.log(0.0)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1677582542242,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"it5SbUkxTvbW","outputId":"e72e65f7-be03-42fe-ec62-cfc71466f9b3"},"outputs":[{"data":{"text/plain":["1.0"]},"execution_count":114,"metadata":{},"output_type":"execute_result"}],"source":["np.log10(10)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677582542579,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"N0152LR7i8tS","outputId":"ce01944d-1175-4663-c668-6a0e8fc5eb5c"},"outputs":[{"data":{"text/plain":["2.0"]},"execution_count":115,"metadata":{},"output_type":"execute_result"}],"source":["np.log10(100)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":680,"status":"ok","timestamp":1677582545454,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"4KFscjsuTvbX","outputId":"8fe3633d-c0a6-4c26-8152-d08728a7532e"},"outputs":[{"data":{"text/plain":["(4.0, 4.0, 5.0)"]},"execution_count":116,"metadata":{},"output_type":"execute_result"}],"source":["np.round(4.5), np.floor(4.5), np.ceil(4.5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1677582545732,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"DzYf6KRtAH5a","outputId":"ecbf0567-6d01-492e-d082-3fcf26d652a4"},"outputs":[{"data":{"text/plain":["(4.0, 3.0, 4.0)"]},"execution_count":117,"metadata":{},"output_type":"execute_result"}],"source":["np.round(3.5), np.floor(3.5), np.ceil(3.5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1677582545988,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"1mtNuCOaTvbX","outputId":"6f4529cb-65e9-4070-bf9b-a921b9a2423b"},"outputs":[{"data":{"text/plain":["(-4.0, -5.0, -4.0)"]},"execution_count":118,"metadata":{},"output_type":"execute_result"}],"source":["np.round(-4.5), np.floor(-4.5), np.ceil(-4.5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677582548510,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"an6CtRAyAY2M","outputId":"61bd420a-25e3-4d56-9fe3-c074f2a7523b"},"outputs":[{"data":{"text/plain":["8"]},"execution_count":119,"metadata":{},"output_type":"execute_result"}],"source":["np.power(2, 3)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":252,"status":"ok","timestamp":1677582561629,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"DM3BuJKxTvbY","outputId":"16fa087b-1a4c-439e-9da6-a0c2a988667f"},"outputs":[{"data":{"text/plain":["(0, numpy.int64)"]},"execution_count":120,"metadata":{},"output_type":"execute_result"}],"source":["# переполнение!\n","np.power(2, 1000), type(np.power(2, 1000))"]},{"cell_type":"markdown","metadata":{"id":"uBRgVtzQTvbY"},"source":["То же самое, но с помощью Python-типа int"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":242,"status":"ok","timestamp":1677582586266,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"ArbovcFUTvbY","outputId":"35d39be8-efa4-408f-c3f2-6743e97e8d70"},"outputs":[{"data":{"text/plain":["(10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376,\n"," int)"]},"execution_count":121,"metadata":{},"output_type":"execute_result"}],"source":["2 ** 1000, type(2 ** 1000) # питоновское возведение в степень"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":288,"status":"ok","timestamp":1677582610575,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"3rCXRrX2TvbZ","outputId":"c976864f-64e4-43bd-efad-83b418b4acc1"},"outputs":[{"data":{"text/plain":["-1.0"]},"execution_count":122,"metadata":{},"output_type":"execute_result"}],"source":["np.cos(np.pi)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1677582610895,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"E9qP9JB0Tvba","outputId":"79e3419e-dfa8-4684-d17a-62a3d024b860"},"outputs":[{"data":{"text/plain":["2.718281828459045"]},"execution_count":123,"metadata":{},"output_type":"execute_result"}],"source":["np.e"]},{"cell_type":"markdown","metadata":{"id":"UcgMF8Gf7OeZ"},"source":["## UFunc"]},{"cell_type":"markdown","metadata":{"id":"JUspURHSTvb4"},"source":["Все функции описанные в предыдущем разделе можно применять к массивам! Поэтому их называют универсальными (могут применяться к массивам разной формы):"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":470,"status":"ok","timestamp":1677582650222,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"KhDJBZnLjd_I","outputId":"417b12f7-5e05-4d86-f701-2921783e1ff5"},"outputs":[{"data":{"text/plain":["array([[  1,   2],\n","       [ 10, 100]])"]},"execution_count":124,"metadata":{},"output_type":"execute_result"}],"source":["b = np.array([[1, 2], [10, 100]])\n","b"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":251,"status":"ok","timestamp":1677582653085,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"_xV3iCn2Tvb4","outputId":"a40d92b6-f6d8-4c5a-a0e4-52946df04fa5"},"outputs":[{"data":{"text/plain":["array([[0.     , 0.30103],\n","       [1.     , 2.     ]])"]},"execution_count":125,"metadata":{},"output_type":"execute_result"}],"source":["np.log10(b)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":399,"status":"ok","timestamp":1664823026469,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"py8DwT8D1al7","outputId":"70b4cf0c-80cf-412a-f74b-c3f27aa01b26"},"outputs":[{"data":{"text/plain":["True"]},"execution_count":176,"metadata":{},"output_type":"execute_result"}],"source":["np.log(b).shape == b.shape"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":247,"status":"ok","timestamp":1677582675308,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"iJ95wGN_Tvb5","outputId":"48e0d706-c63a-4b6d-8df3-0207f24e012b"},"outputs":[{"data":{"text/plain":["array([[ 0.84147098,  0.90929743],\n","       [-0.54402111, -0.50636564]])"]},"execution_count":126,"metadata":{},"output_type":"execute_result"}],"source":["np.sin(b)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":167},"executionInfo":{"elapsed":421,"status":"error","timestamp":1664996002019,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"DMTa1StSL5jg","outputId":"6e0644a1-c9ba-40fb-dd81-921582260a90"},"outputs":[{"ename":"TypeError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-154-9ccc75f2eb55\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mmath\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msin\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m2\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mTypeError\u001b[0m: must be real number, not list"]}],"source":["math.sin([1, 2])"]},{"cell_type":"markdown","metadata":{"id":"2DNDqsiDTvb5"},"source":["Кроме математических функций есть также полезные функции для работы с массивами."]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":23040,"status":"ok","timestamp":1677582814748,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"tXIJVqjDWodc","outputId":"b7fb39ca-ca24-43e4-9b6f-2f6d64cc4f32"},"outputs":[{"name":"stdout","output_type":"stream","text":["CPU times: user 24.3 s, sys: 3.37 s, total: 27.6 s\n","Wall time: 27.8 s\n"]}],"source":["%%time\n","a = list(range(10 ** 8))\n","for idx, elem in enumerate(a):\n","    a[idx] = elem * 2"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":650,"status":"ok","timestamp":1677582817770,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"XI8eGhGV3_-c","outputId":"e2af71a6-5c6f-4c28-9030-5818c470199c"},"outputs":[{"name":"stdout","output_type":"stream","text":["CPU times: user 259 ms, sys: 350 ms, total: 609 ms\n","Wall time: 612 ms\n"]}],"source":["%%time\n","a_numpy = np.arange(10 ** 8)\n","a_numpy = 2 * a_numpy"]},{"cell_type":"markdown","metadata":{"id":"GP2H4iVaZ3KV"},"source":["**Вывод:** старайтесь использовать векторизированные вычисления!"]},{"cell_type":"markdown","metadata":{"id":"aZS5hsZKTvb4"},"source":["# Полезные функции и методы"]},{"cell_type":"markdown","metadata":{"id":"Cn5W0xzo4q6r"},"source":["Создадим пару случайных массивов для работы:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"3PiakQ4ggR9v"},"outputs":[],"source":["a = np.random.choice(a=np.linspace(1, 50, 50) + 100, size=10, replace=False)\n","b = np.random.choice(a=np.linspace(1, 50, 50) + 100, size=10, replace=False)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":271,"status":"ok","timestamp":1677582932123,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"oQX3z6AAaOEL","outputId":"70d371ad-7d6d-48b0-d1f8-3bdb700b0869"},"outputs":[{"data":{"text/plain":["array([131., 135., 140., 123., 112., 143., 114., 113., 110., 150.])"]},"execution_count":133,"metadata":{},"output_type":"execute_result"}],"source":["a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":8,"status":"ok","timestamp":1677582932123,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"ev_s5HcwaOEL","outputId":"8a0769b8-f622-4f4b-809c-a8eda8067dfc"},"outputs":[{"data":{"text/plain":["array([127., 139., 125., 107., 110., 130., 131., 149., 144., 145.])"]},"execution_count":134,"metadata":{},"output_type":"execute_result"}],"source":["b"]},{"cell_type":"markdown","metadata":{"id":"UKsBN8R_Tvb5"},"source":["## Замена элементов по индексу"]},{"cell_type":"markdown","metadata":{"id":"utGI-7CX40Ua"},"source":["Функция `put` позволяет разом заменить несколько значений в массиве:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":645,"status":"ok","timestamp":1677582965429,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"HIhN_OzNTvb6","outputId":"65bf8449-01b2-4d60-f66a-1ff7ca2c6298"},"outputs":[{"data":{"text/plain":["array([-44., 135., -55., 123., 112., 143., 114., 113., -66., 150.])"]},"execution_count":135,"metadata":{},"output_type":"execute_result"}],"source":["np.put(a, ind=[0, 2, 8], v=[-44, -55, -66, -88])\n","a"]},{"cell_type":"markdown","metadata":{"id":"Q8tW2ELRTvb6"},"source":["## Выделение элементов по условию (булева маска)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":326,"status":"ok","timestamp":1664996263448,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"kxXUlT4aMfuV","outputId":"1c10ac7c-b8f8-4d81-99c5-b5f886122348"},"outputs":[{"data":{"text/plain":["array([ True, False,  True, False, False, False, False, False, False,\n","       False])"]},"execution_count":167,"metadata":{},"output_type":"execute_result"}],"source":["a \u003c 0"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":293,"status":"error","timestamp":1677583164012,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"PsMyIrzV23jb","outputId":"d4a59033-d6b2-43c1-dc78-ba0ff221d5ea"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-140-f375a4f69e4a\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m \u001b[0;34m\u003c\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mor\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mb\u001b[0m \u001b[0;34m\u003e\u001b[0m \u001b[0;36m110\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mor\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mb\u001b[0m \u001b[0;34m\u003c\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m110\u001b[0m\u001b[0;34m)\u001b[0m  \u001b[0;31m# | == or\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"]}],"source":["(a \u003c 0) | (b \u003e 110) | (b \u003c -110)  # | == or"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":709,"status":"ok","timestamp":1677583044436,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"O4ZKcqQJOeyv","outputId":"0a12076b-704d-4f7d-8664-ec200cc8e14a"},"outputs":[{"data":{"text/plain":["array([ True, False,  True, False, False, False, False, False,  True,\n","       False])"]},"execution_count":137,"metadata":{},"output_type":"execute_result"}],"source":["(a \u003c 0) \u0026 (b \u003e 110)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1677583297740,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"5HAwjRY-OruU","outputId":"719ea052-90ed-483a-e19e-6d02d42d730e"},"outputs":[{"data":{"text/plain":["array([False,  True, False,  True,  True,  True,  True,  True, False,\n","        True])"]},"execution_count":142,"metadata":{},"output_type":"execute_result"}],"source":["~(a \u003c 0)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":239,"status":"ok","timestamp":1677583058255,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Px67Itjavepz","outputId":"6ce302fa-a5ab-4159-e95e-e1d49a157d1c"},"outputs":[{"data":{"text/plain":["array([135., 123., 112., 143., 114., 113., 150.])"]},"execution_count":139,"metadata":{},"output_type":"execute_result"}],"source":["a[~(a \u003c 0)]"]},{"cell_type":"markdown","metadata":{"id":"z6qt1QE9abt1"},"source":["## \"Условный оператор присвоения\" where"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":253,"status":"ok","timestamp":1677418379095,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"umD_BNiUTvb6","outputId":"b0a592a1-85ee-4659-eb04-b21dfe807f34"},"outputs":[{"data":{"text/plain":["array([-44., 123., -55., 138., 134., 106., 136., 112., -66., 125.])"]},"execution_count":26,"metadata":{},"output_type":"execute_result"}],"source":["np.where(a \u003c 0, a, b)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":341,"status":"ok","timestamp":1677583299963,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"GbrvdrOPNFdq","outputId":"15bac1ba-d7cf-4ff1-99a7-4e02d7abd9f5"},"outputs":[{"data":{"text/plain":["(array([0, 2, 8]),)"]},"execution_count":143,"metadata":{},"output_type":"execute_result"}],"source":["np.where(a \u003c 0)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":360,"status":"ok","timestamp":1677583321012,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"HMyehVX4Tvb6","outputId":"fd7e7bc8-0dcf-4b23-f425-cfdda872a32e"},"outputs":[{"data":{"text/plain":["array([135., 123., 112., 143., 114., 113., 150.])"]},"execution_count":144,"metadata":{},"output_type":"execute_result"}],"source":["a[np.where(~(a \u003c 0))]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":363,"status":"ok","timestamp":1677583336526,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"lWnBLLtTcf2Y","outputId":"709bb134-ddf8-4b47-cf6a-2ca22b1287ac"},"outputs":[{"data":{"text/plain":["array([135., 123., 143., 150.])"]},"execution_count":145,"metadata":{},"output_type":"execute_result"}],"source":["a[(a \u003e 120)]"]},{"cell_type":"markdown","metadata":{"id":"f_5fLH3PTvb7"},"source":["## Сортировка"]},{"cell_type":"markdown","metadata":{"id":"TlsLpe9Zav6K"},"source":["Получить отсортированный массив:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":259,"status":"ok","timestamp":1677418405591,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"lcFpQAzQcv05","outputId":"4fe3a912-73c4-42ba-da43-59465a3ca364"},"outputs":[{"data":{"text/plain":["array([-44., 118., -55., 125., 145., 132., 121., 137., -66., 113.])"]},"execution_count":32,"metadata":{},"output_type":"execute_result"}],"source":["a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":346,"status":"ok","timestamp":1677583357976,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"9rlOfyLoTvb7","outputId":"ff9409db-888e-4b9e-9585-7a3d8aab6556"},"outputs":[{"data":{"text/plain":["array([-66., -55., -44., 112., 113., 114., 123., 135., 143., 150.])"]},"execution_count":146,"metadata":{},"output_type":"execute_result"}],"source":["np.sort(a, kind='merge_sort')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Ln5wQ_gfiq55"},"outputs":[],"source":["np.sort?"]},{"cell_type":"markdown","metadata":{"id":"43Bsps-YTvb7"},"source":["Индексы сортированного массива:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":330,"status":"ok","timestamp":1677583417746,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"owRiHvIaTvb7","outputId":"c8910d46-ddc1-4325-8bb6-c2cccc628684"},"outputs":[{"data":{"text/plain":["array([8, 2, 0, 4, 7, 6, 3, 1, 5, 9])"]},"execution_count":148,"metadata":{},"output_type":"execute_result"}],"source":["np.argsort(a)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":518,"status":"ok","timestamp":1677583438466,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"aRkLnBT9Tvb8","outputId":"3b2ff842-bfbb-4a84-a56d-ef434c686eda"},"outputs":[{"data":{"text/plain":["array([[0.937, 3.677, 2.652, 2.44 , 9.73 ],\n","       [3.931, 8.92 , 6.311, 7.948, 5.026],\n","       [5.769, 4.925, 1.952, 7.225, 2.808],\n","       [0.243, 6.455, 1.771, 9.405, 9.539]])"]},"execution_count":149,"metadata":{},"output_type":"execute_result"}],"source":["# создание матрицы для демонстрации примеров\n","m = np.round(np.random.rand(4, 5) * 10, 3)\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":255,"status":"ok","timestamp":1677583449450,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"U4KklWvsjLGs","outputId":"8aef6cc6-6911-489b-b32b-ba9f3850b87f"},"outputs":[{"data":{"text/plain":["array([[0.937, 2.44 , 2.652, 3.677, 9.73 ],\n","       [3.931, 5.026, 6.311, 7.948, 8.92 ],\n","       [1.952, 2.808, 4.925, 5.769, 7.225],\n","       [0.243, 1.771, 6.455, 9.405, 9.539]])"]},"execution_count":150,"metadata":{},"output_type":"execute_result"}],"source":["# сортировка\n","np.sort(m)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":263,"status":"ok","timestamp":1677583476878,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"84YmeFjbTvb8","outputId":"93be9b3f-1556-4efe-d562-58a52a9eafef"},"outputs":[{"data":{"text/plain":["array([[0.243, 3.677, 1.771, 2.44 , 2.808],\n","       [0.937, 4.925, 1.952, 7.225, 5.026],\n","       [3.931, 6.455, 2.652, 7.948, 9.539],\n","       [5.769, 8.92 , 6.311, 9.405, 9.73 ]])"]},"execution_count":151,"metadata":{},"output_type":"execute_result"}],"source":["# сортировка по столбцам\n","np.sort(m, axis=0)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":253,"status":"ok","timestamp":1677583499846,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"okFkToAQTvb8","outputId":"bcc95294-bc8a-4d86-f487-b8c2113ac225"},"outputs":[{"data":{"text/plain":["array([[0.937, 2.44 , 2.652, 3.677, 9.73 ],\n","       [3.931, 5.026, 6.311, 7.948, 8.92 ],\n","       [1.952, 2.808, 4.925, 5.769, 7.225],\n","       [0.243, 1.771, 6.455, 9.405, 9.539]])"]},"execution_count":152,"metadata":{},"output_type":"execute_result"}],"source":["# сортировка по строкам\n","np.sort(m, axis=1)"]},{"cell_type":"markdown","metadata":{"id":"CFMuTsb4Tvb8"},"source":["\u003cspan style=\"color:blue\"\u003eОтсортируйте все столбцы по столбцу с номером 1:\u003c/span\u003e"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":548,"status":"ok","timestamp":1677583523103,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Ibb3k_dYTvb8","outputId":"c42d7340-2d8d-46ae-ccfa-2f306cf90616"},"outputs":[{"data":{"text/plain":["array([[6, 3, 7],\n","       [4, 6, 9],\n","       [2, 6, 7],\n","       [4, 3, 7],\n","       [7, 2, 5]])"]},"execution_count":153,"metadata":{},"output_type":"execute_result"}],"source":["np.random.seed(42)\n","a = np.random.randint(0, 10, (5, 3))\n","a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":396,"status":"ok","timestamp":1677583548800,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"3QITR6z2jzVe","outputId":"9e7f18e7-75ab-460c-ce1e-f8b16770f517"},"outputs":[{"data":{"text/plain":["array([4, 0, 3, 1, 2])"]},"execution_count":154,"metadata":{},"output_type":"execute_result"}],"source":["a[:, 1].argsort()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":571,"status":"ok","timestamp":1677583557211,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"yxJfJM6Vj8Vn","outputId":"4715d362-2d6e-4ef8-9bd4-53b1f41d3be9"},"outputs":[{"data":{"text/plain":["array([[7, 2, 5],\n","       [6, 3, 7],\n","       [4, 3, 7],\n","       [4, 6, 9],\n","       [2, 6, 7]])"]},"execution_count":155,"metadata":{},"output_type":"execute_result"}],"source":["a[a[:, 1].argsort()]"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"dU3WydDVku43"},"outputs":[],"source":["np.sort?"]},{"cell_type":"markdown","metadata":{"id":"VgNJ43TBTvb9"},"source":["## Добавление нового измерения"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":377,"status":"ok","timestamp":1677418767360,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"53DvQ77TTvb9","outputId":"1f18c505-7baa-4f53-9e55-ac3c33e3663a"},"outputs":[{"data":{"text/plain":["array([ 1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.])"]},"execution_count":34,"metadata":{},"output_type":"execute_result"}],"source":["a = np.linspace(1, 10, 10)\n","a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1677418768206,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"5Y4pQ_a4Tvb9","outputId":"f0480e9b-f5c1-415f-c08e-4c2a6a80afdb"},"outputs":[{"data":{"text/plain":["array([[ 1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.]])"]},"execution_count":35,"metadata":{},"output_type":"execute_result"}],"source":["a[np.newaxis, :]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":432,"status":"ok","timestamp":1677418769588,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"kLG0kPQZl9Cr","outputId":"e044270f-e5ab-4609-89d1-78f598e34139"},"outputs":[{"data":{"text/plain":["array([[ 1.],\n","       [ 2.],\n","       [ 3.],\n","       [ 4.],\n","       [ 5.],\n","       [ 6.],\n","       [ 7.],\n","       [ 8.],\n","       [ 9.],\n","       [10.]])"]},"execution_count":36,"metadata":{},"output_type":"execute_result"}],"source":["a[:, np.newaxis]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":336,"status":"ok","timestamp":1677418771765,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"0xkb9a_79kDd","outputId":"84a9bf07-23ca-4b5f-c7d8-f4e0a86e80b6"},"outputs":[{"data":{"text/plain":["array([[ 1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.]])"]},"execution_count":37,"metadata":{},"output_type":"execute_result"}],"source":["a[None, :]"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":244,"status":"ok","timestamp":1677583778180,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"T65IPZzPTvb-","outputId":"ff0436bc-70dd-4afe-c2f0-c21c82bee72e"},"outputs":[{"data":{"text/plain":["array([[4, 1, 7, 5, 1, 4, 0, 9, 5, 8],\n","       [0, 9, 2, 6, 3, 8, 2, 4, 2, 6],\n","       [4, 8, 6, 1, 3, 8, 1, 9, 8, 9],\n","       [4, 1, 3, 6, 7, 2, 0, 3, 1, 7],\n","       [3, 1, 5, 5, 9, 3, 5, 1, 9, 1]])"]},"execution_count":156,"metadata":{},"output_type":"execute_result"}],"source":["m = np.random.randint(0, 10, (5, 10))\n","m"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1677583778441,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"cfgJOfuQbfPo","outputId":"3e4907bc-b1f9-4e03-eec7-4b706a028d74"},"outputs":[{"data":{"text/plain":["array([[[4, 1, 7, 5, 1, 4, 0, 9, 5, 8, 0, 9, 2, 6, 3, 8, 2, 4, 2, 6, 4,\n","         8, 6, 1, 3]],\n","\n","       [[8, 1, 9, 8, 9, 4, 1, 3, 6, 7, 2, 0, 3, 1, 7, 3, 1, 5, 5, 9, 3,\n","         5, 1, 9, 1]]])"]},"execution_count":157,"metadata":{},"output_type":"execute_result"}],"source":["m.reshape(2, 1, 25)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":365,"status":"error","timestamp":1677418875876,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"Ju1Et6Dq9Jjm","outputId":"93269fa7-9f5b-4dd2-d4bc-277422d68b02"},"outputs":[{"ename":"ValueError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-41-b3174e36fc50\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mm\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mreshape\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m2\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m13\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mValueError\u001b[0m: cannot reshape array of size 50 into shape (2,2,13)"]}],"source":["m.reshape(2, 2, 13)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":283,"status":"ok","timestamp":1677418932083,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"4Lno0rXuncIC","outputId":"8c4aae73-c139-48e7-900e-3577c299ac83"},"outputs":[{"data":{"text/plain":["array([[[9, 6, 0, 6, 7, 3, 0, 6, 2, 2, 9, 8, 7, 3, 5, 1, 3, 3, 9, 5, 1,\n","         9, 5, 3, 5]],\n","\n","       [[8, 1, 2, 6, 6, 4, 5, 1, 9, 6, 1, 9, 5, 5, 4, 6, 7, 7, 8, 6, 7,\n","         3, 1, 6, 1]]])"]},"execution_count":42,"metadata":{},"output_type":"execute_result"}],"source":["m.reshape(2, 1, -1)"]},{"cell_type":"markdown","metadata":{"id":"ryIZbx2BTvb_"},"source":["## `np.any` / `np.all`"]},{"cell_type":"markdown","metadata":{"id":"ExfZWp6lTvb_"},"source":["`Any` возвращает True, если хотя бы один элемент `True`   \n","`All` возвращает True, если все элементы `True`"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":271,"status":"ok","timestamp":1650469036712,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"mgxHXR5ITvb_","outputId":"71a2d762-8888-4a2e-cebd-9e1e55e4ddfc"},"outputs":[{"data":{"text/plain":["True"]},"execution_count":166,"metadata":{},"output_type":"execute_result"}],"source":["any([True, True, False, True, False, False, False])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1650469037523,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"17NO8kGfTvb_","outputId":"8dcbd868-b730-4599-864c-228eb2160a45"},"outputs":[{"data":{"text/plain":["False"]},"execution_count":167,"metadata":{},"output_type":"execute_result"}],"source":["all([True, True, False, True, False, False, False])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":266,"status":"ok","timestamp":1650479885113,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"-mlVnGwTTvcA","outputId":"b08d212b-507d-4c93-e5eb-b28504dec8eb"},"outputs":[{"data":{"text/plain":["array([ True,  True,  True,  True])"]},"execution_count":378,"metadata":{},"output_type":"execute_result"}],"source":["np.array([1, 1, 0, 2]) == np.array([1, 1, 0, 2])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":382,"status":"ok","timestamp":1650469046537,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"zkkJajFYTvcA","outputId":"96c3dbfc-1c26-4f28-f162-2bb16c3d62a8"},"outputs":[{"data":{"text/plain":["True"]},"execution_count":169,"metadata":{},"output_type":"execute_result"}],"source":["# сравнение векторов\n","all(np.array([1, 1, 0, 2]) == np.array([1, 1, 0, 2]))"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":7,"status":"ok","timestamp":1650469046934,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"4yf_7wqYTvcA","outputId":"29a1de08-837f-4066-e26f-dca077df5a77"},"outputs":[{"data":{"text/plain":["False"]},"execution_count":170,"metadata":{},"output_type":"execute_result"}],"source":["all(np.array([1, 1, 0, 0]) == np.array([1, 1, 0, 2]))"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1650469048033,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"y2olgB-oTvcA","outputId":"871e76c5-ffe0-4ebe-dd86-e75f4473cdc5"},"outputs":[{"data":{"text/plain":["True"]},"execution_count":171,"metadata":{},"output_type":"execute_result"}],"source":["any(np.array([1, 1, 0, 0]) == np.array([1, 1, 0, 2]))"]},{"cell_type":"markdown","metadata":{"id":"wH9wOaNATvcB"},"source":["- Методы all и any"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":280,"status":"ok","timestamp":1650479959848,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"nRGXIj0P_v2_","outputId":"08360b38-9d14-4739-9425-6b9313aa72c5"},"outputs":[{"data":{"text/plain":["array([ True,  True, False, False,  True,  True,  True,  True])"]},"execution_count":379,"metadata":{},"output_type":"execute_result"}],"source":["np.array([1, 1, 0, 8, 1, 5, 1, 1]) == np.array([1, 1, 3, 2, 1, 5, 1, 1])"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":257,"status":"ok","timestamp":1650480110813,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"eayCygyyTvcB","outputId":"901941f0-f635-4107-d7ee-0d8903a9768f"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[ True  True False False]\n"," [ True  True  True  True]]\n"]}],"source":["a = (np.array([1, 1, 0, 8, 1, 5, 1, 1]) == np.array([1, 1, 3, 2, 1, 5, 1, 1])).reshape((2, 4))\n","print(a)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":258,"status":"ok","timestamp":1650480112365,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"gzFk5t0sTvcB","outputId":"489c2070-2582-41de-dc20-883a4d5a8e3f"},"outputs":[{"data":{"text/plain":["array([ True,  True])"]},"execution_count":386,"metadata":{},"output_type":"execute_result"}],"source":["# any по строкам\n","a.any(axis=1)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":326,"status":"ok","timestamp":1650480114482,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"Z87iUrmxTvcB","outputId":"6d77be7b-16ba-4baa-9c06-03e704a6595b"},"outputs":[{"data":{"text/plain":["array([[ True,  True,  True,  True]])"]},"execution_count":387,"metadata":{},"output_type":"execute_result"}],"source":["# any по столбцам\n","a.any(axis=0, keepdims=True)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":309,"status":"ok","timestamp":1650469210602,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"3JLkylevTvcB","outputId":"32d718be-ac3f-452b-8439-d5eea702552d"},"outputs":[{"data":{"text/plain":["False"]},"execution_count":178,"metadata":{},"output_type":"execute_result"}],"source":["# По строкам и столбцам\n","a.all(axis=(0, 1)) # берем элементы по осям исходной подматрицы с индексами 0 и 1"]},{"cell_type":"markdown","metadata":{"id":"5voWLDRbTvcC"},"source":["## `np.diff`"]},{"cell_type":"markdown","metadata":{"id":"bdBlEWlc-TWz"},"source":["$out[n] = a[n+1] - a[n]$"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":273,"status":"ok","timestamp":1677419190608,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"fjtP-vvdTvcC","outputId":"42f322a5-e70c-43c3-bb35-39389f7e575f"},"outputs":[{"data":{"text/plain":["array([1, 2, 4, 7, 0])"]},"execution_count":44,"metadata":{},"output_type":"execute_result"}],"source":["a = np.array([1, 2, 4, 7, 0])\n","a"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":257,"status":"ok","timestamp":1677419194083,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"5qfPhLCm-Z_B","outputId":"45abb0c9-8393-4d50-d1c0-41a3ce39edee"},"outputs":[{"data":{"text/plain":["array([ 1,  2,  3, -7])"]},"execution_count":45,"metadata":{},"output_type":"execute_result"}],"source":["np.diff(a)"]},{"cell_type":"markdown","metadata":{"id":"nqjDH15ATvcC"},"source":["## `np.split`"]},{"cell_type":"markdown","metadata":{"id":"LyG4yVjZ-gVP"},"source":["Разбиение на части:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":285,"status":"ok","timestamp":1650480317730,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"rVe1vq3TTvcC","outputId":"0b934881-e328-4182-b46e-d2b16efee0d0"},"outputs":[{"name":"stdout","output_type":"stream","text":["[1 2 3 4 5 6 7 8 9]\n"]}],"source":["a = np.arange(1, 10)\n","print(a)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":305,"status":"ok","timestamp":1650480319402,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"Nl63I91DTvcD","outputId":"55ff3379-c4c0-4224-cf42-64ae0a96e424"},"outputs":[{"data":{"text/plain":["[array([1, 2]), array([3, 4, 5, 6, 7]), array([8, 9])]"]},"execution_count":396,"metadata":{},"output_type":"execute_result"}],"source":["np.split(a, [2, 7]) # разбивает по элементам 2 и 7"]},{"cell_type":"markdown","metadata":{"id":"56zwXFOYTvcD"},"source":["# Вычисление статистик"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":298,"status":"ok","timestamp":1677419245968,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"KtwTBC4iTvcD","outputId":"e32c0670-b4a9-464b-9e7f-a6a7c9dc0c11"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[10 12 -8 30]\n"," [22 20 58 45]\n"," [47 69 -8 32]\n"," [58 18 27 27]\n"," [-6 60 28 61]]\n"]}],"source":["a = np.random.randint(-10, 70, (5, 4))\n","print(a)"]},{"cell_type":"markdown","metadata":{"id":"odwIPEUSTvcD"},"source":["## `np.mean`"]},{"cell_type":"markdown","metadata":{"id":"kTUIUSXB-obN"},"source":["Среднее по всему массиву:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1677419246311,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"qgqtHV8eTvcE","outputId":"20542aef-4fd2-4cd1-d684-f0d6090e7ac4"},"outputs":[{"data":{"text/plain":["30.1"]},"execution_count":47,"metadata":{},"output_type":"execute_result"}],"source":["a.mean()"]},{"cell_type":"markdown","metadata":{"id":"9u1vKr7I-t6a"},"source":["Среднее по столбцам:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":309,"status":"ok","timestamp":1664998335281,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"vzHM-6m3TvcE","outputId":"b5e067e7-3adb-4ab1-c3ee-24dc3d525d95"},"outputs":[{"data":{"text/plain":["array([23. , 52.8, 39.2, 35.8])"]},"execution_count":235,"metadata":{},"output_type":"execute_result"}],"source":["a.mean(axis=0)"]},{"cell_type":"markdown","metadata":{"id":"TBMPB0h9-vsw"},"source":["Срднее по строкам:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1664998335544,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"OeEiND14TvcE","outputId":"631e94b9-517d-43a7-f650-6dfd92f77bc7"},"outputs":[{"data":{"text/plain":["array([38.5 , 45.75, 38.25, 28.  , 38.  ])"]},"execution_count":236,"metadata":{},"output_type":"execute_result"}],"source":["a.mean(axis=1)"]},{"cell_type":"markdown","metadata":{"id":"yGo6WYfYTvcE"},"source":["## `np.median`"]},{"cell_type":"markdown","metadata":{"id":"xoWCzruy--3e"},"source":["Медиана массива:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"TR2Dqe1NTvcF"},"outputs":[],"source":["np.median(a)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"R3kiQhOO_Cj5"},"outputs":[],"source":["np.median(a, axis=0)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"t-jwoVNF_Dnz"},"outputs":[],"source":["np.median(a, axis=1)"]},{"cell_type":"markdown","metadata":{"id":"D1dhHxyETvcF"},"source":["## Максимум и минимум"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":7,"status":"ok","timestamp":1650469262568,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"YR88t5NVTvcF","outputId":"aa791df5-cc49-4007-b31c-547063edae3c"},"outputs":[{"name":"stdout","output_type":"stream","text":["[[63 51  3 37]\n"," [ 4 61 67 51]\n"," [29 69 42 13]\n"," [15 49 30 18]\n"," [ 4 34 54 60]]\n"]}],"source":["a"]},{"cell_type":"markdown","metadata":{"id":"5By5m5Tl_KJQ"},"source":["Максимальный элемент:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"K94gSHCvTvcF"},"outputs":[],"source":["a.max()"]},{"cell_type":"markdown","metadata":{"id":"4pAojU8s_T5r"},"source":["Максимумы по столбцам:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"599K8FFO_Nsa"},"outputs":[],"source":["a.max(axis=0)"]},{"cell_type":"markdown","metadata":{"id":"rR1Z7kHR_WUt"},"source":["Индексы строк максимумов по столбцам:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"TzhVrD7b_OMg"},"outputs":[],"source":["a.argmax(axis=0)"]},{"cell_type":"markdown","metadata":{"id":"ejTdNB8g_ZP5"},"source":["Максимумы по строкам:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"agLBv1XO_QhJ"},"outputs":[],"source":["a.max(axis=1)"]},{"cell_type":"markdown","metadata":{"id":"jnJma99q_bGG"},"source":["Индексы столбцов максимумов по строкам:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_8tnNB46_Sbl"},"outputs":[],"source":["a.argmax(axis=1)"]},{"cell_type":"markdown","metadata":{"id":"F2Gc-AHRTvcG"},"source":["## Счетчик"]},{"cell_type":"markdown","metadata":{"id":"uFjGCyFw_qWZ"},"source":["Позволяет посчитать сколько разных неотрицательных целых чисел указано:\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":328,"status":"ok","timestamp":1677419582368,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"hzZ2TbhFTvcG","outputId":"0bc186e5-e5d0-4824-9df5-5fed38b2c6c1"},"outputs":[{"data":{"text/plain":["array([0, 3, 1, 1, 0, 0, 0, 1])"]},"execution_count":51,"metadata":{},"output_type":"execute_result"}],"source":["np.bincount(np.array([1, 1, 3, 2, 1, 7], dtype=np.int32))"]},{"cell_type":"markdown","metadata":{"id":"XSy2TA6aTvcG"},"source":["Можем делать счетчик с весами - добавляем каждому элементу множитель:"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":271,"status":"ok","timestamp":1650469336184,"user":{"displayName":"Никита Николаевич Честнов","userId":"04102744290911048542"},"user_tz":-180},"id":"6DvhRkkrTvcG","outputId":"17c618d9-dffa-4894-b325-f677561c6e2c"},"outputs":[{"name":"stdout","output_type":"stream","text":["[17.  8. 13.]\n"]}],"source":["# с помощью аргумента weights можно посчитать сумму части эелемента массива\n","sub_sums = np.bincount(np.array([2, 0, 2, 1, 0, 0, 2, 2, 0, 1]),\n","                        weights=[4, 4, 2, 3, 5, 1, 6, 1, 7, 5])\n","# [0, 1, 2]\n","# 0 -\u003e 4 + 5 + 1 + 7 = 17\n","# 1 -\u003e 3 + 5 = 8\n","# 2 -\u003e 4 + 2 + 6 + 1 = 13\n","sub_sums"]},{"cell_type":"markdown","metadata":{"id":"3yOOmB-5TvcH"},"source":["\u003cspan style=\"color:blue\"\u003eКак найти наиболее частое значение в массиве?\u003c/span\u003e"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"ZfmYhm6xTvcH"},"outputs":[],"source":["z = np.random.randint(0, 10, 50)\n","z"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"CbJvJCwCAwbd"},"outputs":[],"source":["np.bincount(z).argmax()"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":289,"status":"ok","timestamp":1664998558223,"user":{"displayName":"Nikita Chestnov","userId":"16607095869821949390"},"user_tz":-180},"id":"U79QnWqfD4zF","outputId":"a9f91842-4abd-4cba-bb3e-53b02e394289"},"outputs":[{"data":{"text/plain":["array([7, 1, 8, 3, 5, 1, 9, 7, 4, 5])"]},"execution_count":242,"metadata":{},"output_type":"execute_result"}],"source":["np.bincount(z)"]},{"cell_type":"markdown","metadata":{"id":"uOy4Lfz0_vbA"},"source":["# Практика"]},{"cell_type":"markdown","metadata":{"id":"ns8SlkFyXy3a"},"source":["## Задача 1"]},{"cell_type":"markdown","metadata":{"id":"O_ktDJgS4G7J"},"source":["Создайте массив numpy размером 3×3 со всеми значениями, равными `True`."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"SEpr7fNhXy3a","outputId":"46a29750-d737-4ad0-e1f5-9fe73d98b595"},"outputs":[{"data":{"text/plain":["array([[ True,  True,  True],\n","       [ True,  True,  True],\n","       [ True,  True,  True]])"]},"execution_count":4,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"6BSP_ryE3gwl"},"source":["```\n","array([[ True,  True,  True],\n","       [ True,  True,  True],\n","       [ True,  True,  True]])\n","```"]},{"cell_type":"markdown","metadata":{"id":"1d4vFBzRXy3b"},"source":["## Задача 2"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"vgQA8bFPekul"},"outputs":[],"source":["a = n"]},{"cell_type":"markdown","metadata":{"id":"RIiuxzem4PRy"},"source":["Вам дан массив под названием `test_array`. Выведите положительные элементы этого массива."]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":168},"executionInfo":{"elapsed":1384,"status":"error","timestamp":1677494771777,"user":{"displayName":"Фомберг В.","userId":"16022001172148277362"},"user_tz":-180},"id":"VH61lY4jXy3b","outputId":"a799c0c8-6c10-453e-90b4-f989ee77fa93"},"outputs":[{"ename":"NameError","evalue":"ignored","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m\u003cipython-input-1-f5654698c240\u003e\u001b[0m in \u001b[0;36m\u003cmodule\u003e\u001b[0;34m\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0;31m \u001b[0mtest_array\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0;36m5\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0;36m7\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0;36m6\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0;36m8\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mNameError\u001b[0m: name 'np' is not defined"]}],"source":["test_array = np.array([ 0, -1,  5, -3,  7, -1,  6, -1,  8, -1])"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"y5EXu-3benUN"},"outputs":[],"source":["np.where(test_array \u003e 0)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"gbVnapX0Xy3b","outputId":"5c52d0a5-033b-4687-8584-4fa6eaed8731"},"outputs":[{"data":{"text/plain":["array([5, 7, 6, 8])"]},"execution_count":6,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"_sKqU7Kk3sXa"},"source":["`array([5, 7, 6, 8])`"]},{"cell_type":"markdown","metadata":{"id":"6mX1p74CXy3c"},"source":["## Задача 3"]},{"cell_type":"markdown","metadata":{"id":"1Vpnei8U4V_A"},"source":["Замените отрицательные элементы из массива `test_array` на `0`.\n","\n","*Подсказка:* вам пригодится функция `np.where`."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"awP9wvhOXy3c","outputId":"7017b82b-d49a-4b2e-cc24-0c7c94c69ed7"},"outputs":[{"data":{"text/plain":["array([0, 0, 5, 0, 7, 0, 6, 0, 8, 0])"]},"execution_count":7,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"8O4wwV334tM3"},"source":["`array([0, 0, 5, 0, 7, 0, 6, 0, 8, 0])`"]},{"cell_type":"markdown","metadata":{"id":"MIqnug_bXy3c"},"source":["## Задача 4"]},{"cell_type":"markdown","metadata":{"id":"i8ykO8C642bi"},"source":["Вам дан массив из 10 чисел. Найдите позицию максимального элемента в заданном массиве."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sjQWGZ5tXy3d"},"outputs":[],"source":["array = np.array([6, 8, 4, 2, 11, -3, 7, 22, -20, -30])"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"xD8erENBXy3d","outputId":"1ee5dfaf-e27e-4e2b-abab-2be9abec0e39"},"outputs":[{"data":{"text/plain":["7"]},"execution_count":9,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"6pKF_L1R47Gt"},"source":["`7`"]},{"cell_type":"markdown","metadata":{"id":"spWminyiXy3d"},"source":["## Задача 5"]},{"cell_type":"markdown","metadata":{"id":"6Nb0fiNA5KEH"},"source":["Вам дан словарь, в котором подсчитаны частоты женских имен в выборке из 26 новорожденных девочек."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"x1FcthKzXy3e","outputId":"7c4a99f8-f389-4e65-f7cb-30240a13eb14"},"outputs":[{"data":{"text/plain":["{'Катя': 8, 'Maша': 5, 'Вероника': 2, 'Ярослава': 1, 'Александра': 10}"]},"execution_count":10,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["names = dict()\n","names['Катя'] = 8\n","names[\"Maша\"] = 5\n","names[\"Вероника\"] = 2\n","names[\"Ярослава\"] = 1\n","names[\"Александра\"] = 10\n","\n","names"]},{"cell_type":"markdown","metadata":{"id":"CXetA03XXy3e"},"source":["Посчитайте процентные доли имен с помощью нормирования вектора значений."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"V_jE6SeaXy3f","outputId":"313a8654-9e37-4ee8-c7d0-251e7dae6a77"},"outputs":[{"data":{"text/plain":["array([ 8,  5,  2,  1, 10])"]},"execution_count":11,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["names_count = np.array(list(names.values()))\n","names_count"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"M79nffJVXy3f","outputId":"344dc6a8-3d22-4582-fb09-0fb87d73d679"},"outputs":[{"data":{"text/plain":["array([0.30769231, 0.19230769, 0.07692308, 0.03846154, 0.38461538])"]},"execution_count":12,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"NO8WLL1S5OS3"},"source":["`array([0.30769231, 0.19230769, 0.07692308, 0.03846154, 0.38461538])`"]},{"cell_type":"markdown","metadata":{"id":"15ng8uLSXy3g"},"source":["## Задача 6"]},{"cell_type":"markdown","metadata":{"id":"raESZnSU5RNM"},"source":["Вам дан массив `arr`. Выведите все его элементы, которые строго больше 5, и строго меньше 9.\n","\n","*Подсказка:* здесь можно также использовать булевы маски."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"vqmEaKZuXy3g"},"outputs":[],"source":["arr = np.array([7, 2, 10, 2, 7, 4, 9, 4, 9, 8])"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"78qJl67tXy3g","outputId":"4e389759-2af3-4465-da5a-347bb22f6ccb"},"outputs":[{"data":{"text/plain":["array([7, 7, 8])"]},"execution_count":14,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"GPit3gpI5r09"},"source":["`array([7, 7, 8])`"]},{"cell_type":"markdown","metadata":{"id":"fN5ZnOMjXy3h"},"source":["## Задача 7"]},{"cell_type":"markdown","metadata":{"id":"S1evhWE651KV"},"source":["Создайте одномерный массив из 12 элементов от 0 до 11 и сделайте из него матрицу размером 3х4 (вам пригодится функция `np.reshape`)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"naHaxgwwXy3h","outputId":"475d595f-d7b4-40b0-d41b-fdbbe842ca65"},"outputs":[{"data":{"text/plain":["array([[ 0,  1,  2,  3],\n","       [ 4,  5,  6,  7],\n","       [ 8,  9, 10, 11]])"]},"execution_count":15,"metadata":{"tags":[]},"output_type":"execute_result"}],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"eHGQXwef556I"},"source":["```\n","array([[ 0,  1,  2,  3],\n","       [ 4,  5,  6,  7],\n","       [ 8,  9, 10, 11]])\n","```"]},{"cell_type":"markdown","metadata":{"id":"Kqx9ejwSXy3k"},"source":["## Задача 8"]},{"cell_type":"markdown","metadata":{"id":"QV7bbrJq6gEe"},"source":["Создайте массив из случайных чисел размера 3 на 4 (3 строки и 4 столбца) и сохраните его в переменную `random_array`. Найдите среднее, медиану, стандартное отклонение созданной матрицы `random_array` по строкам и по столбцам.\n","\n","**Вывод вашего кода** - по одной строке на среднее, медиану, и стандартное отклонение для операций по строкам и по столбцам (всего 6 строк кода)."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"NqnBKuG1Xy3l"},"outputs":[],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"glQ2eltPXy3n"},"source":["## Задача 9"]},{"cell_type":"markdown","metadata":{"id":"mtfTZjEh7bbA"},"source":["Найдите средние значения по строкам у созданной в предыдущем задании матрицы `random_array`. Вычтите полученные средния значения из соответствующих строк изначальной матрицы `random_array`. Проверьте, что после вычитания средних среднее по каждой строке стало равно 0."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"NhGpsNl_Xy3n"},"outputs":[],"source":["# ваш код тут"]},{"cell_type":"markdown","metadata":{"id":"oKNt01d0eGjv"},"source":["## Задача 10"]},{"cell_type":"markdown","metadata":{"id":"1gpYauqG7_8O"},"source":["Пусть мы имеем 2 массива (заданы ниже в коде). Требуется создать массив, который получает результат поэлементно `True`, если четные элементы 1го массива больше 2го и `True`, если нечетные элементы 2го больше элементов первого. В противном случае возвращать `False`.\n","\n","Реализовать задачу с помощью numpy\n","\n","Пример массивов и результата:\n","\n","```\n","a = [7, 3, 5, 9, 2, 5, 4, 8, 9, 0]\n","b = [2, 8, 6, 7, 1, 3, 2, 9, 5, 1]\n","res = [ True, True, False, False, True, False, True, True, True, True]\n","```\n","\n","Вы можете сделать задачу с помощью слайсинга или комбинации функций `np.arange` и `np.where`."]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sTb3Ht9aeN6U"},"outputs":[],"source":["# ваш код тут"]}],"metadata":{"colab":{"name":"","provenance":[{"file_id":"1fh0B-aihMwaQ2ZWnqvI55CjXKyLbGl1q","timestamp":1699795755404},{"file_id":"11v-mxoxBKQfaatoeuy4Y9XJzcxXJvguD","timestamp":1677398105571},{"file_id":"1Nr90Go5eEHkPAK2T1T7IFDcfIgjBxT3W","timestamp":1664786038623},{"file_id":"1kTPXcyZ2N_WfGmzRw8Mtvd7XIygx5057","timestamp":1650461075233},{"file_id":"1mVZvirHaDqMJ-9iDBhnKMNNq7szAlf-I","timestamp":1640794108057},{"file_id":"1VNfJcmNRdYm2T602O8LHtPsJRuCAFSX3","timestamp":1632153705459}],"version":""},"kernelspec":{"display_name":"jupyter-env","language":"python","name":"jupyter-env"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.7"}},"nbformat":4,"nbformat_minor":0}